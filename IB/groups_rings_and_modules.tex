\documentclass[a4paper]{article}

\def\npart{IB}

\def\ntitle{Groups, Rings and Modules}
\def\nlecturer{O.\ Randal-Williams}

\def\nterm{Lent}
\def\nyear{2017}

\input{header}

\theoremstyle{definition}
\newtheorem*{fiat}{Fiat}

% conjugacy class
\DeclareMathOperator{\Cl}{Cl}

% Sylow subgroup
\DeclareMathOperator{\syl}{Syl}

\DeclareMathOperator{\Ann}{Ann}
\DeclareMathOperator{\fit}{Fit}

\begin{document}

\input{titlepage}

\tableofcontents

\section{Groups}

\subsection{Definitions}

\begin{definition}[Group]\index{group}
  A \emph{group} is a triple \((G, \cdot, e)\) of a set \(G\), a function \(- \cdot -: G \times G \to G\) and \(e \in G\) such that
  \begin{itemize}
  \item associativity: for all \(a, b, c \in G\), \((a \cdot b) \cdot c = a \cdot (b \cdot c)\),
  \item identity: for all \(a \in G\), \(a \cdot e = a = e \cdot a\),
  \item inverse: for all \(a \in G\), there exists \(\alpha^{-1} \in G\) such that \(a \cdot a^{-1} = e = a^{-1} \cdot a\).
  \end{itemize}
\end{definition}

\begin{definition}[Subgroup]\index{group!subgroup}
  If \((G, \cdot, e)\) is a group, \(H \subseteq G\) is a \emph{subgroup} if
  \begin{itemize}
  \item \(e \in H\),
  \item for all \(a, b \in H\), \(a \cdot b \in H\).
  \end{itemize}
  This makes \((H, \cdot, e)\) into a group. Write \(H \leq G\).
\end{definition}

\begin{lemma}
  If \(H \subseteq G\) is non-empty and for all \(a, b \in H\), \(a \cdot b^{-1} \in H\) then \(H \leq G\).
\end{lemma}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item Additive groups: \((\N, +, 0)\), \((\R, +, 0)\), \((\C, +, 0)\).
  \item Groups of symmetries: \(S_n\), \(D_{2n}\), \(\GL_n(\R)\). They have subgroups \(A_n \leq S_n\), \(C_n \leq D_{2n}\), \(\SL_n(\R) \leq \GL_n(\R)\).
  \item An group \(G\) is \emph{abelian}\index{group!abelian} is a group such that \(a \cdot b = b \cdot a\) for all \(a, b \in G\).
  \end{enumerate}
\end{eg}

If \(H \leq G\), \(g \in G\), we define the \emph{left \(H\)-coset} of \(G\) to be
\[
  gH = \{gh: h \in H\}.
\]
As we have seen in IA Groups, the \(H\)-cosets form a partition of \(G\) and are in bijection with each other via
\begin{align*}
  H &\leftrightarrow gH \\
  h &\mapsto gh \\
  g^{-1}h &\mapsfrom h
\end{align*}
We write \(G/H\) for the set of left cosets.

\begin{theorem}[Lagrange]\index{Lagrange's Theorem}
  \label{thm:lagrange}
  If \(G\) is a finite group and \(H \leq G \) then
  \[
    |G| = |H| \cdot |G/H|.
  \]
\end{theorem}

We call \(|G/H|\) the \emph{index}\index{group!index} of \(H\) in \(G\).

\begin{definition}[Order]\index{order}
  Given \(g \in G\), the \emph{order} of \(g\) is the smallest \(n\) such that \(g^n = e\). We write \(n = o(g) = |g|\). If no such \(n\) exists then \(g\) has infinite order.
\end{definition}

Recall that if \(g^m = e\) then \(|g| \divides m\).

\begin{lemma}
  If \(G\) is finite and \(g \in G\) then \(|g| \divides |G|\).
\end{lemma}

\begin{proof}
  The set
  \[
    \generation g = \{e, g, \dots, g^{|g| - 1}\}
  \]
  is a subgroup of \(G\). The result follows from \nameref{thm:lagrange}.
\end{proof}

\subsection{Normal subgroups, Quotients and Homomorphisms}

Recall that \(gH = g'H\) if and only if \(g^{-1}g' \in H\). In particular, if \(h \in H\) then \(ghH = gH\).

Given a subgroup \(H \leq G\), we want to define a group structure on its cosets. Argurably the most natural candidate for the group operation would be
\begin{align*}
  - \cdot -: G/H \times G &\to G/H \\
  (gH, g'H) &\mapsto gg'H
\end{align*}
But is this well-defined? Suppose \(g'H = g'hH\), then
\[
  (gH) \cdot (g'hH) = gg'hH = gg'H
\]
so it is well-defined in the second coordinate. Suppose \(gH = ghH\), then
\[
  (ghH) \cdot (g'H) = ghg' H \stackrel{?}{=} gg'H
\]
where the last step holds if and only if \((g')^{-1}hg' \in H\) for all \(h \in H\), \(g' \in G\). Thus we need this true to define a group structure on the cosets. This motivates us to define

\begin{definition}[Normal subgroup]\index{group!subgroup!normal}
  A subgroup \(H \leq G\) is \emph{normal} if for all \(h \in H\), \(g \in G\), \(g^{-1}hg \in H\). Write \(H \normal G\).
\end{definition}

\begin{definition}[Quotient group]\index{group!quotient}
  If \(H \normal G\), then \(G/H\) equipped with the product
  \begin{align*}
    G/H \times G/H &\to G/H \\
    (gH, g'H) &\mapsto gg'H
  \end{align*}
  and identity \(eH\) is a group. This is the \emph{quotient group} of \(G\) by \(H\).
\end{definition}

Now we have defined and seen quite a few groups. We are interested not in the internal structure of groups but how they relate to each other. This motivates to define morphisms between groups:

\begin{definition}[Homomorphism]\index{group!homomorphism}
  If \((G, \cdot, e_G)\) and \((H, *, e_H)\) are groups, a function \(\varphi: G \to H\) is a \emph{homomorphism} if for all \(g, h \in G\),
  \[
    \varphi(g \cdot g') = \varphi(g) * \varphi(g').
  \]
\end{definition}

This implies that \(\varphi(e_G) = e_H\) and \(\varphi(g^{-1}) = \varphi(g)^{-1}\). We define
\begin{align*}
  \ker \varphi &= \{g \in G: \varphi(g) = e_H\}, \\
  \im \varphi &= \{\varphi(g): g \in G\}.
\end{align*}

\begin{lemma}\leavevmode
  \begin{itemize}
  \item \(\ker \varphi \normal G\),
  \item \(\im \varphi \leq H\).
  \end{itemize}
\end{lemma}

\begin{proof}
  Easy.
\end{proof}

\begin{definition}[Isomorphism]\index{group!isomorphism}
  A homomorphism \(\varphi\) is an \emph{isomorphism} if it is a bijection. Say \(G\) and \(H\) are \emph{isomorphic} if there exists some isomorphism \(\varphi: G \to H\). Write \(G \cong H\).
\end{definition}

\begin{ex}
  If \(\varphi\) is an isomorphism then the inverse \(\varphi^{-1}: H \to G\) is also an isomorphism.
\end{ex}

\begin{theorem}[1st Isomorphism Theorem]\index{isomorphism theorem}
  Let \(\varphi: G \to H\) be a homomorphism. Then \(\ker \varphi \leq G\), \(\im \varphi \leq G\) and
  \[
    G/\ker \varphi \cong \im \varphi.
  \]
\end{theorem}

\begin{proof}
  We have done the first part. For the second part, define
  \begin{align*}
    \theta: G/\ker \varphi &\to \im \varphi \\
    g\ker \varphi &\mapsto \varphi(g)
  \end{align*}
  \[
    \begin{tikzcd}
      G \ar[r, "\varphi"] \ar[d, two heads] & H \\
      G/\ker \varphi \ar[ur, dashed, "\phi"']
    \end{tikzcd}
  \]
  Check this is well-defined: if \(g\ker \varphi = g'\ker \varphi\) then \(g^{-1}g' \in \ker \varphi\) so \(e_H = \varphi(g^{-1}g') = \varphi(g)^{-1}\varphi(g')\), \(\varphi(g) = \varphi(g')\) and \(\theta(g\ker \varphi) = \theta(g'\ker \varphi)\).

  \(\theta\) is a homomorphism:
  \[
    \theta(g\ker \varphi \cdot g'\ker \varphi) = \theta(gg' \ker \varphi) = \varphi(gg') = \varphi(g)\varphi(g') = \theta(g\ker \varphi) \theta(g\ker \varphi).
  \]
  \(\theta\) is surjective and finally to show it is injective, suppose \(\theta(g\ker \varphi) = e_H\). Then \(g \in \ker \varphi\) so \(g\ker \varphi = e\ker \varphi\).
\end{proof}

\begin{eg}
  Consider
  \begin{align*}
    \varphi: \C &\to \C \setminus \{0\} \\
    z &\mapsto e^z
  \end{align*}
  \(e^{z + w} = e^z \cdot e^w\) so \(\varphi: (\C, +, 0) \to (\C \setminus \{0\}, \times, 1)\) is a homomorphism. \(\varphi\) is surjective (as \(\log\) is a left inverse).
  \[
    \ker \varphi = \{z \in \C: e^z = 1\} = \{2\pi ik: k \in \Z\} = 2\pi i\Z
  \]
  so by 1st Isomorphism Theorem
  \[
    \C/2\pi i\Z \cong \C \setminus \{0\}.
  \]
\end{eg}

\begin{theorem}[2nd Isomorphism Theorem]
  Let \(H \leq G\) and \(K \normal G\). Then
  \begin{align*}
    HK &\leq G \\
    H \cap K &\normal H \\
    HK/K &\cong H/(H \cap K)
  \end{align*}
\end{theorem}

\begin{proof}
  Let \(h, h' \in H\), \(k, k' \in K\). Then
  \[
    (h'k')(hk)^{-1} = h'k'k^{-1}h^{-1} = (h'h^{-1})(hk'k^{-1}h^{-1}) \in HK.
  \]

  Consider
  \begin{align*}
    \varphi: H &\to G/K \\
    h &\mapsto hK
  \end{align*}
  This is the composition \(H \stackrel{\iota}{\embed} G \stackrel{\pi}{\surj} G/K\) so a homomorphism. Since
  \begin{align*}
    \ker \varphi &= \{hK: hK = eK\} = H \cap K \normal H \\
    \im \varphi &= \{gK: gK = hK \text{ for some } h \in H\} = HK/K
  \end{align*}
  so by 1st Isomorphism Theorem
  \[
    H/(H \cap K) \cong HK/K.
  \]
\end{proof}

As a corollary we have

\begin{theorem}[Subgroup correspondence]
  Let \(K \normal G\). There is a bijection between
  \begin{align*}
    \{\text{subgroups of } G/K\} &\leftrightarrow \{\text{subgroups of \(G\) containing \(K\)}\} \\
    H &\mapsto \{g \in G: gK \in H\} \\
    L/K &\mapsfrom K \normal L \leq G
  \end{align*}
  Moreover, the same map gives a bijection between
  \[
    \{\text{normal subgroups of } G/K\} \leftrightarrow \{\text{normal subgroups of \(G\) containing \(K\)}\}.
  \]
\end{theorem}

\begin{theorem}[3rd Isomorphism Theorem]
  Let \(K \leq L \leq G\) be normal subgroups. Then
  \[
    \frac{G/K}{L/K} \cong G/L.
  \]
\end{theorem}

\begin{proof}
  Consider
  \begin{align*}
    \varphi: G/K &\to G/L \\
    gK \mapsto gL
  \end{align*}
  Check it is well-defined: if \(gK = g'K\), \(g^{-1}g' \in K \subseteq L\) so \(gL = g'L\). \(\varphi\) is clearly surjective and has kernel
  \[
    \ker \varphi = \{gK \in G/K: gL = eL\} = L/K
  \]
  so by 1st Isomorphism Theorem
  \[
    \frac{G/K}{L/K} \cong G/L.
  \]
\end{proof}

\begin{definition}[Simple group]\index{simple group}
  A group \(G\) is \emph{simple} if its only normal subgroups are \(\{e\}\) and \(G\).
\end{definition}

\begin{lemma}
  An abelian group is simple if and only if it is isomorphic to \(C_p\) for some prime \(p\).
\end{lemma}

\begin{proof}
  In an abelian group every subgroup is normal. Let \(g \in G\) be non-trivial. Then
  \[
    \generation g = \{\dots, g^{-2}, g^{-1}, e, g, g^2, \dots\} \normal G.
  \]
  If \(G\) is simple, this must be the whole group so \(G\) is cyclic. If \(G\) is infinite, it is isomorphic to \(\Z\) which is not simple as \(2\Z \normal G\). Therefore \(G \cong C_n\) for some \(n\). If \(n = ab\), \(a, b \in \N\), \(a, b \neq 1\) then \(\generation{g^a} \normal G\). Absurd. Thus \(n\) is a prime.

  For the other directions, note that \(C_p\) is simple for prime \(p\) by \nameref{thm:lagrange}.
\end{proof}

\begin{theorem}
  Let \(G\) be a finite group. Then there is a chain of subgroups
  \[
    G = H_0 \geq H_1 \geq H_2 \geq \dots \geq H_s = \{e\}
  \]
  such that \(H_{n + 1} \normal H_n\) and \(H_n/H_{n + 1}\) is simple for all \(n\).
\end{theorem}

\begin{proof}
  Let \(H_1\) be a normal subgroup of \(H_0 = G\) of maximal order. If \(H_0/H_1\) is not simple, there would be a proper normal subgroup \(X \normal H_1/H_2\). This corresponds to a normal subgroup of \(H_0\), \(Y\), which strictly contains \(H_1\). Absurd. Thus \(H_0/H_1\) is simple.

  Choose \(H_2\) to be the maximal normal subgroup of \(H_1\) and continue. As \(H_{n + 1}\) is a proper subgroup of \(H_n\), \(|H_{n + 1}| < |H_n|\) so this process terminates after finitely many steps.
\end{proof}

\subsection{Actions \& Permutations}

Part of the reason we study groups is that they have interesting internal structures. However, more importantly, groups are interesting because many transformations of an object can be described by a group. This is formalised by the concept of group action in this section.

The \emph{symmetric group}\index{symmetric group} \(S_n\) is the set of permutations of \(\{1, \dots, n\}\). Every permutation is a product of transpositions. A permutation is \emph{even} if it is a product of evenly-many transpositions and \emph{odd} otherwise.

The \emph{sign}\index{sign} of a permutation is a homomorphism
\begin{align*}
  \sgn: S_n &\to \{\pm 1\} \\
  \sigma &\mapsto
           \begin{cases}
             1 & \sigma \text{ is even} \\
             -1 & \sigma \text{ is odd}
           \end{cases}
\end{align*}
The kernel of \(\sgn\) is the \emph{alternating group} \(A_n \normal S_n\) of index \(2\) for \(n \geq 2\).

For any set \(X\), we let \(\sym(X)\) denote the set of all permutations of \(X\), with composition as the group operation.

Here is a definition that is included in the syllabus but seems to be never used anywhere:

\begin{definition}
  A group \(G\) is a \emph{permutation group of degree \(n\)} if
  \[
    G \leq \sym(X)
  \]
  with \(|X| = n\).
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(S_n\) is a permutation group of order \(n\), so is \(A_n\).
  \item \(D_{2n}\) acts on the \(n\) vertices of a regular \(n\)-gon, so
    \[
      D_{2n} \leq S(\{n \text{ vertices}\}).
    \]
  \end{enumerate}
\end{eg}

\begin{definition}[Group action]\index{group action}
  An \emph{action} of a group \((G, \cdot, e)\) on a set \(X\) is a function \(- * - : G \times X \to X\) such that
  \begin{enumerate}
  \item For all \(g, h \in G\), \(x \in X\),
    \[
      g * (h * x) = (gh) * x.
    \]
  \item For all \(x \in X\),
    \[
      e * x = x.
    \]
  \end{enumerate}
\end{definition}

\begin{lemma}
  Giving an action of \(G\) on \(X\) is the same as giving a homomorphism \(\varphi: G \to \sym(X)\).
\end{lemma}

\begin{proof}\leavevmode
  \begin{itemize}
  \item \(\Rightarrow\): Let \(- * -\) be an action. For all \(g \in G\), let
    \begin{align*}
      \varphi: X &\to X \\
      x &\mapsto g * x
    \end{align*}
    This satisfies
    \[
      \varphi(gh)(x) = (gh) * x = g * (h * x) = \varphi(g)(\varphi(h)(x)) = (\varphi(g) \compose \varphi(h))(x)
    \]
    so \(\varphi(gh) = \varphi(g) \compose \varphi(h)\).

    In addition \(\varphi(e)(x) = e * x = x = \id_X(x)\) so \(\varphi(e) = \id X\). Now we note that
    \[
      \id_X = \varphi(e) = \varphi(gg^{-1}) = \varphi(g) \compose \varphi(g^{-1})
    \]
    so \(\varphi(g^{-1})\) is inverse to \(\varphi(g)\). In particular \(\varphi(g)\) is a bijection.
  \item \(\Leftarrow\): Let \(\varphi: G \to \sym(X)\) be a homomorphism. Define
    \begin{align*}
      - * -: G \times X &\to X \\
      (g, x) &\mapsto \varphi(g)(x)
    \end{align*}
    Verify that
    \begin{align*}
      g * (h * x) &= \varphi(g)(\varphi(h)(x)) = (\varphi(g) \compose \varphi(h))(x) = \varphi(gh)(x) = (gh) * x \\
      e * x &= \varphi(e)(x) = \id_X(x) = x
    \end{align*}
  \end{itemize}
\end{proof}

Given a homomorphism \(\varphi: G \to \sym(X)\) induced by an action, define \(G^X = \im \varphi, G_X = \ker \varphi\). Then by 1st Isomorphism Theorem \(G_X \normal G, G/G_X \cong G^X\).

If \(G_X = \{e\}\), i.e.\ \(\varphi\) is injective then we say \(\varphi\) is a \emph{permutation representation of \(G\)}. It follows that \(G \cong G^X \leq \sym(X)\).

\begin{eg}\leavevmode
  \begin{enumerate}
  \item Let \(G\) be the symmetries of a cube. Then \(G\) acts on the set \(X\) of diagonals. \(|X| = 4\) and \(\varphi: G \to \sym(X)\) is surjective so \(G^X = \sym(X) \cong S_4\). \(G_X = \{\id, \text{antipodal map}\}\) so by \nameref{thm:lagrange}
    \[
      |G| = |G_X| \cdot |G^X| = 48.
    \]
  \item For any group \(G\), left multiplication is a homomorphism:
    \begin{align*}
      \varphi: G &\to \sym G \\
      g &\mapsto g \cdot -
    \end{align*}
    \(G_X = \{g \in G: gh = h \text{ for all } G\} = \{e\}\) so \(\varphi\) is a permutation representation. This is

    \begin{theorem}[Cayley]\index{Cayley's theorem}
      Every group is isomorphic to a subgroup of a symmetric group.
    \end{theorem}
  \item If \(G\) is a group and \(H \leq G\), we have
    \begin{align*}
      \varphi: G &\to \sym(G/H) \\
      g &\mapsto g \cdot -
    \end{align*}
    \(G_X = \{g \in G: gaH = aH \text{ for all } aH\} = \bigcap_{a \in G} aHa^{-1}\). This is the largest subgroup of \(H\) which is normal in \(G\).
  \end{enumerate}
\end{eg}

\begin{theorem}
  Let \(G\) be a finite group and \(H \leq G\) with index \(n\). Then there is a \(K \normal G, K \leq H\) such that \(G/K\) is isomorphic to a subgroup of \(S_n\). In particular
  \begin{align*}
    |G/K| &\divides n! \\
    n &\divides |G/K|
  \end{align*}
\end{theorem}

\begin{proof}
  Let \(K = G_X\) for the action of \(G\) on \(X = G/H\). Then
  \[
    G/G_X \cong G^X \leq \sym(X) \cong S_n.
  \]
\end{proof}

\begin{theorem}
  \label{thm:non-abelian simple group}
  Let \(G\) be a non-abelian simple group and \(H \leq G\) is a subgroup of index \(n > 1\). Then \(G\) is isomorphic to a subgroup of \(A_n\) for some \(n \geq 5\).
\end{theorem}

\begin{proof}
  Let \(G\) act on \(G/H\), giving \(\varphi: G \to \sym(G/H)\). Then \(\ker \varphi \normal G\). As \(G\) is simple, \(\ker \varphi = \{e\}\) or \(G\). But \(\ker \varphi = \bigcap_{g \in G} g^{-1}Hg \leq H\), a proper subgroup of \(G\) so \(\ker \varphi = \{e\}\). By 1st Isomorphism Theorem
  \[
    G = G/\{e\} \cong \im \varphi = G^X \leq \sym(G/H) \cong S_n.
  \]
  Applying 2nd Isomorphism Theorem to \(A_n \normal S_n, G^X \leq S_n\), we get
  \[
    G^X \cap A_n \normal G^X, \, G^X/(G^X \cap A_n) \cong G^XA_n/A_n.
  \]
  As \(G^X \cong G\) is simple, \(G^X \cap A_n\) is either trivial or \(G^X\), i.e.\ \(G^X \leq A_n\). But if \(G^X \cap A_n = \{e\}\),
  \[
    G^X \cong G^XA_n/A_n \leq S_n/A_n \cong C_2
  \]
  which contradicts \(G^X \cong G\) being non-abelian. Hence \(G \cong G^X \leq A_n\).

  \[
    \begin{tikzcd}
      1 \ar[r] & G \ar[r, "\varphi"] & \sym(G/H) \ar[r, "\sgn"] & C_2
    \end{tikzcd}
  \]
  
  To see that we must have \(n \geq 5\), observe that \(A_2, A_3\) and \(A_4\) have no non-abelian simple subgroup.
\end{proof}

\begin{corollary}
  If \(G\) is non-abelian simple, \(H \leq G\) of index \(n\), then
  \[
    |G| \divides \frac{n!}{2}.
  \]
\end{corollary}

Some futher definitions we have already met in IA Groups:

\begin{definition}[Orbit \& Stabiliser]
  If \(G\) acts on \(X\), the \emph{orbit} of \(x \in X\) is
  \[
    G \cdot x = \{g * x: g \in G\}.
  \]
  and the \emph{stabiliser} of \(x\) is
  \[
    G_x = \{g \in G: g * x = x \forall x \in X\}.
  \]
\end{definition}

\begin{theorem}[Orbit-stabiliser]\index{Orbit-stabiliser theorem}
  \label{thm:orbit-stabiliser}
  If \(G\) acts on \(X\), for all \(x \in X\) there is a bijection
  \begin{align*}
    G \cdot x &\leftrightarrow G/G_x \\
    g * x &\leftrightarrow gG_x
  \end{align*}
\end{theorem}

\subsection{Conjugacy class, Centraliser \& Normaliser}

In the previous section we use a group action of a group on itself, namely left multiplication, to study the structure of a group. In this section we study conjugation, another group action that gives much richer results.

There is an action of \(G\) on \(X = G\) via \(g * x = gxg^{-1}\), giving \(\varphi: G \to \sym(G)\).

\begin{remark}
  \[
    \varphi(g)(xy) = gxyg^{-1} = (gxg^{-1})(gyg^{-1}) = \varphi(g)(x) \varphi(g)(y)
  \]
  so \(\varphi(g)\) is a group homomorphism. In fact this is an automorphism and \(\varphi(g) \in \inn(G)\), which is the group of all automorphisms arising from conjugation.
\end{remark}

Denote
\[
  \aut(G) = \{\theta: G \to G: \theta \text{ is an isomorphism}\} \leq \sym(G).
\]
We have shown \(\varphi: G \to \sym(G)\) has image in \(\aut(G) \leq \sym(G)\), i.e.\ \(\inn(G) \leq \aut(G)\).

\begin{definition}[Conjugacy class]\index{conjugacy class}
  The \emph{conjugacy clss} of \(x \in G\) is
  \[
    G \cdot x = \Cl_G(x) = \{gxg^{-1}: g \in G\}.
  \]
\end{definition}

\begin{definition}[Centraliser]\index{centraliser}
  The \emph{centraliser} of \(x \in G\) is
  \[
    C_G(x) = \{g \in G: gx = xg\}.
  \]
\end{definition}

\begin{definition}[Centre]\index{centre}
  The \emph{centre} of \(G\) is
  \[
    Z(G) = \ker \varphi = \{g \in G: gxg^{-1} = x \forall x \in G\}.
  \]
\end{definition}

\begin{definition}[Normaliser]\index{normaliser}
  The \emph{normaliser} of \(H \leq G\) is
  \[
    N_G(H) = \{g \in G: gHg^{-1} = H\}.
  \]
\end{definition}

By \nameref{thm:orbit-stabiliser}, there is a bijection between
\[
  \Cl_G(x) \leftrightarrow G/C_G(x)
\]
so if \(G\) is finite, \(|\Cl_G(x)| = |G/C_G(x)|\) divides \(|G|\).

Recall from IA Groups that in the permutation group \(S_n\)
\begin{enumerate}
\item every element can be written as a product of disjoint cycles,
\item permutations are conjugations if and only if they have the same cycle type.
\end{enumerate}

We will use these knowledge to make our first (and the only one in this course) step towards classification of finite simple groups:

\begin{theorem}
  \(A_n\) is simple for \(n \geq 5\).
\end{theorem}

\begin{proof}
  First claim \(A_n\) is generated by \(3\)-cycles. Need to show that double transpositions are generated by \(3\)-cycles. There are two cases:
  \begin{itemize}
  \item \((ab)(bc) = (abc)\),
  \item \((ab)(cd) = (acb)(acd)\).
  \end{itemize}

  Let \(H \normal A_n\). Suppose \(H\) contains a \(3\)-cycle, say \((abc)\). There exists \(\sigma \in S_n\) such that
  \[
    (abc) = \sigma^{-1}(123)\sigma.
  \]
  If \(\sigma \in A_n\) then \((123) \in H\). If \(\sigma \notin A_n\), let \(\sigma' = (45)\sigma \in A_n\). Here we use the fact that \(n \geq 5\). Then
  \[
    (abc) = \sigma^{-1}(45)(123)(45)\sigma = (abc).
  \]
  Hence \(H\) contains all \(3\)-cycles and \(H = A_n\). It then suffices to show any non-trivial \(H \normal A_n\) contains a \(3\)-cycle. Split into different cases:
  \begin{itemize}
  \item Case I: \(H\) contains \(\sigma = (12 \cdots r)\tau\), written in disjoint cycle notation, for some \( r \geq 4\). Let \(\pi = (123)\) and consider the \emph{commutator}
    \[
      [\sigma, \pi] = \sigma^{-1}\pi^{-1}\sigma\pi = \tau^{-1}(r \cdots 21)(132)(12 \cdots r)\tau(123) = (23r)
    \]
    which is a \(3\)-cycle in \(H\).
  \item Case II: \(H\) contains \(\sigma = (123)(456)\tau\). Let \(\pi = (124)\) and consider
    \[
      [\sigma, \pi] = \tau^{-1}(132)(465)(142)(123)(456)\tau(124) = (12436)
    \]
    which is a \(5\)-cycle in \(H\). This reduces to Cases I.
  \item Case III: \(H\) contains \(\sigma = (123)\tau\) and \(\tau\) is a product of \(2\)-cycles. Then \(\sigma^2 = (132) \in H\).
  \item Case IV: \(H\) contains \(\sigma = (12)(34)\tau\) where \(\tau\) is a product of \(2\)-cycles. Let \(\pi = (123)\) and
    \[
      u = [\sigma, \pi] = (12)(34)(132)(12)(34)(123) = (14)(23).
    \]
    Not let \(v = (125)\) where we used the fact \(n \geq 5\) again. Then
    \[
      [u, v] = (14)(23)(152)(14)(23)(125) = (12345) \in H
    \]
    which is a \(5\)-cycle.
  \end{itemize}
\end{proof}

\subsection{Finite \texorpdfstring{\(p\)}{p}-groups}

A finite group \(G\) is a \emph{\(p\)-group} if \(|G| = p^n\) for some prime \(p\).

\begin{theorem}
  If \(G\) is a finite \(p\)-group then \(Z(G) \neq \{e\}\).
\end{theorem}

\begin{proof}
  The conjugacy classes partition \(G\) and \(|\Cl(x)| = |G/C(x)|\) which divides \(|G|\). Thus \(|\Cl(x)|\) is a power of \(p\). Class equation reads
  \[
    |G| = |Z(G)| + \sum_{\text{other ccl's}} |\Cl(x)|
  \]
  Reduce mod \(p\), we get \(|Z(G)| = 0 \mod p\). But \(|Z(G)| \geq 1\) so \(|Z(G)| \geq p\).
\end{proof}

\begin{corollary}
  A group of order \(p^n\), \(n > 1\) is never simple.
\end{corollary}

\begin{lemma}
  For any group \(G\), if \(G/Z(G)\) is cyclic, \(G\) is abelian.
\end{lemma}

\begin{proof}
  Let \(G/Z(G) = \generation{gZ(G)}\). Then every coset is of the form \(g^rX(G)\), \(r \in \Z\). Thus every element of \(G\) is of the form \(g^rz\) where \(z \in Z(G)\). Then
  \[
    g^rzg^{r'}z' = g^rg^{r'}zz' = g^{r + r'} z'z = g^{r'}z'g^rz
  \]
  and hence \(G\) is abelian.
\end{proof}

\begin{corollary}
  If \(|G| = p^2\), \(G\) is abelian.
\end{corollary}

\begin{proof}
  \(Z(G) \neq \{e\}\) so \(|Z(G)| = p\) or \(p^2\). Suppose \(|Z(G)| = p\), \(|G/Z(G)| = p\) so \(G/Z(G) \cong C_p\) so by the lemma \(G\) is abelian. Absurd. Thus \(Z(G) = G\) and thus \(G\) is abelian.
\end{proof}

\begin{theorem}
  If \(|G| = p^a\), \(G\) has a subgroup of order \(p^b\) for all \(0 \leq b \leq a\).
\end{theorem}

\begin{proof}
  Induction on \(a\). If \(a = 1\) then done. Suppose \(a > 1\). Then \(Z(G) \neq \{e\}\). Let \(x \in Z(G)\) be non-identity. Then \(x\) has order  a power of \(p\), say \(p^i\). Then \(z = x^{p^{i - 1}}\) has order precisely \(p\). Let \(C = \generation z \normal G\). Then \(G/C\) has order \(p^{a - 1}\). By induction hypothesis we can find a subgroup \(H \leq G/C\) of order \(p^{b - 1}\). Then \(H\) must be of the form \(L/C\) for some \(L \leq G\) and \(|L| = p^b\).
\end{proof}

\subsection{Finite abelian groups}

\begin{theorem}
  If \(G\) is a finite abelian group then
  \[
    G \cong C_{d_1} \times C_{d_2} \times \dots \times C_{d_k}
  \]
  with \(d_{i + 1} \divides d_i\) for all \(i\).
\end{theorem}

\begin{proof}
  This will be a corollary of the main result on modules by considering abelian groups as \(\Z\)-modules.
\end{proof}

\begin{eg}
  If \(|G| = 8\) and \(G\) is abelian, \(G\) is isomorphic to one of \(C_8\), \(C_4 \times C_2\) and \(C_2 \times C_2 \times C_2\).
\end{eg}

\begin{lemma}[Chinese Remainder Theorem]\index{Chinese Remainder Theorem}
  If \(n\) and \(m\) are coprime, then
  \[
    C_{nm} \cong C_n \times C_m.
  \]
\end{lemma}

\begin{proof}
  Let \(g \in C_n\) has order \(n\), \(h \in C_m\) has order \(m\). Consider
  \[
    x = (g, h) \in C_n \times C_m.
  \]
  If \(e = x^r = (g^r, h^r)\), then \(n \divides r, m \divides r\) so \(nm \divides r\). Thus \(|x| = nm\). The group is cyclic.
\end{proof}

\begin{corollary}
  If \(G\) is a finite abelian group then
  \[
    G \cong C_{n_1} \times C_{n_2} \times \dots \times C_{n_\ell}
  \]
  with each \(n_i\) a power of prime.
\end{corollary}

\begin{proof}
  If \(d = p_1^{a_1}p_2^{a_2}\cdots p_r^{a_r}\), a factorisation of distinct primes, the above lemma shows
  \[
    C_d \cong C_{p_1^{a_1}} \times C_{p_2^{a_2}} \times \dots \times C_{p_r^{a_r}}.
  \]
  Apply this to the theorem above.
\end{proof}

\subsection{Sylow's Theorem}

\begin{theorem}[Sylow's Theorem]\index{Sylow's Theorem}
  \label{thm:sylow}
  Let \(|G| = p^a \cdot m\) with \((p, m) = 1\) where \(p\) is a prime. Then
  \begin{enumerate}
  \item the set
    \[
      \syl_p(G) = \{P \leq G: |P| = p^a\}
    \]
    of \emph{Sylow \(p\)-subgroups} is not empty,\index{Sylow subgroup}
  \item all elements of \(\syl_p(G)\) are conjugates in \(G\),
  \item the number
    \[
      n_p = |\syl_p(G)|
    \]
    satisfies
    \[
      n_p = 1 \mod p, \, n_p \divides |G|.
    \]
  \end{enumerate}
\end{theorem}

\begin{lemma}
  If \(n_p = 1\) then the unqiue Sylow \(p\)-subgroup is normal in \(G\).
\end{lemma}

\begin{proof}
  Let \(P \leq G\) be the Sylow \(p\)-subgroup and \(g \in G\). As \(gPg^{-1} \leq \syl_p(G)\), \(gPg^{-1} = P\) so \(P \normal G\).
\end{proof}

\begin{eg}
  Let \(G\) be group of order \(96 = 2^5 \cdot 3\). Then
  \begin{itemize}
  \item \(n_2 = 1 \mod 2\) and \(n_2 \divides 3\) so \(n_2 = 1\) or \(3\).
  \item \(n_3 = 1 \mod 3\) and \(n_3 \divides 32\) so \(n_3 = 1, 4\) or \(16\).
  \end{itemize}
\end{eg}

\(G\) acts on the set \(\syl_p(G)\) by conjugation. The second part of Sylow's Theorem says that this action has precisely one orbit. The stabiliser of \(P \in \syl_p(G)\) is the normaliser \(N_G(P) \leq G\) of index \(n_p = |\syl_p(G)|\).

\begin{corollary}
  If \(G\) is non-abelian simple, then \(|G| \divides \frac{(n_p)!}{2}\) and \(n_p \geq 5\).
\end{corollary}

\begin{proof}
  \(N_G(P)\) has index \(n_p\) so apply \Cref{thm:non-abelian simple group} to get the result.
\end{proof}

\begin{eg}[Continued]
  \(|G| \ndivides \frac{3!}{2}\) so \(G\) cannot be simple.
\end{eg}

\begin{eg}
  Suppose \(G\) is a simple group of order \(132 = 2^2 \cdot 3 \cdot 11\). We have \(n_{11} = 1 \mod 11\) and \(n_{11} \divides 12\). As \(G\) is simple we can't have \(n_{11} = 1\) so \(n_{11} = 12\). Each Sylow \(11\)-subgroup has order \(11\) so isomorphic to \(C_{11}\), and thus contains \(10\) elements of order \(11\). Such subgroups can only intersect in the identity so we have \(12 \times 10 = 120\) elements of order \(11\).

  In addition we know \(n_3 = 1 \mod 3\) and \(n_3 \divides 44\), so \(n_3 = 4\) or \(22\). If \(n_3 = 4\), we must have \(|G| \divides \frac{4!}{2}\) by the previous corollary. Absurd. Thus \(n_3 = 22\). As above, we get \(22 \cdot (3 - 1) = 44\) elements of order \(3\). This gives \(164 > 132\) elements. Absurd.

  Thus there is no simple group of order \(132\).
\end{eg}

\begin{proof}[Proof of \nameref{thm:sylow}]
  Let \(|G| = p^n \cdot m\).
  \begin{enumerate}
  \item Let
    \[
      \Omega = \{X \subseteq G: |X| = p^n\}
    \]
    and \(G\) act on \(\Omega\) via
    \[
      g * \{g_1, g_2, \dots, g_{p^n}\} = \{gg_1, gg_2, \dots, gg_{p^n}\}.
    \]
    Let \(\Sigma \subseteq \Omega\) be an orbit of the action. If \(\{g_1, \dots, g_{p^n}\} \in \Sigma\), then
    \[
      (gg_1^{-1}) * \{g_1, \dots, g_{p^n}\} \in \Sigma
    \]
    so for all \(g \in G\) there is an element of \(\Sigma\) containing \(g\). Thus \(|\Sigma| \geq \frac{|G|}{p^n} = m\).

    If there is some orbit \(\Sigma\) with \(|\Sigma| = m\), its stabiliser \(G_\Sigma\) has order \(p^n\) so we have a Sylow \(p\)-subgroup.

    To show this happens, we must show  it is \emph{not} possible for every orbit to have size strictly bigger than \(m\). By \nameref{thm:orbit-stabiliser}, for any \(\Sigma\), \(|\Sigma| \divides p^n \cdot m\) so if \(|\Sigma| > m\) then \(p \divides |\Sigma|\). If all orbits have size \(> m\), \(p\) divides all of them so \(p \divides |\Omega|\).

    Let us calculate \(|\Omega|\). We have
    \[
      |\Omega| = \binom{p^n \cdot m}{p^n} = \prod_{j = 0}^{p^n - 1} \frac{p^n \cdot m - j}{p^n - j}.
    \]
    The largest power of \(p\) dividing \(p^n \cdot m - j\) is the same as the largest power of \(p\) dividing \(j\), which is the same as the largest power of \(p\) dividing \(p^n - j\). Thus \(|\Omega|\) is \emph{not} divisible by \(p\).
  \item Let us show something stronger: if \(P \in \syl_p(G)\) and \(Q\) is a \(p\)-subgroup then there is a \(g \in G\) such that \(g^{-1}Pg \leq Q\).

    Let \(Q\) act on \(G/P\) by
    \[
      q * gP = qgP.
    \]
    By \nameref{thm:orbit-stabiliser}, the size of an orbit divides \(|Q| = p^b\) so it is either \(1\) or divisible by \(p\).

    On the other hand \(|G/P| = \frac{|G|}{|P|} = m\) which is not divisible by \(p\). Thus there must be an orbit of size \(1\), say \(\{gP\}\), i.e.\ for all \(q \in Q\), \(qgP = gP\) so \(g^{-1}qg \in P\). \(g^{-1}Qg \leq P\).
  \item By 2 \(G\) acts on \(\syl_p(G)\) by conjugation with one orbit. By \nameref{thm:orbit-stabiliser} \(n_p = |\syl_p(G)|\) divides \(|G|\), which is the second part of the statement.

    Now we show \(n_p = 1 \mod p\). Let \(P \in \syl_p(G)\) and let \(P\) act on \(\syl_p(G)\) by conjugation. By \nameref{thm:orbit-stabiliser}, the size of an orbit divides \(|P| = p^n\) so each orbit either has size \(1\) or dividible by \(p\). But \(\{P\}\) is a singleton orbit. To show \(n_p = 1 \mod p\) it suffices to show every other orbit has size \(> 1\).

    Suppose that \(\{Q\}\) is another singleton orbit. Then for all \(p \in P\), \(p^{-1}Qp = Q\) so \(P \leq N_G(Q)\). But we also have \(Q \normal N_G(Q)\) (since the normaliser is the largest subgroup of \(G\) in which \(Q\) is normal). Now \(P\) and \(Q\) are Sylow \(p\)-subgroups of \(N_G(Q)\) so are conjugates in \(N_G(Q)\). Thus there exists \(g \in N_G(Q)\) such that \(P = g^{-1}Qg = Q\). Thus \(P = Q\) which contradicts \(Q\) being different from \(P\).
  \end{enumerate}
\end{proof}

\begin{eg}
  Let \(G = \GL_n(\F_p)\). It has order
  \[
    |G| = (p^n - 1)(p^n - p) \cdots (p^n - p^{n - 1}) = \prod_{i = 0}^{n - 1} (p^n - p^i) = p^{\frac{n(n-1)}{2}} \prod_{i = 0}^{n - 1} (p^{n - i} - 1).
  \]
  Let \(U\) be the set of upper triangular matrices with diagonal entries \(1\), which forms a subgroup of \(G\). \(|U| = p^{\frac{n(n - 1)}{2}}\) so \(U\) is a Sylow \(p\)-subgroup.
    
  Consider \(\GL_2(\F_p)\). It has order \((p^2 - 1)(p^2 - p) = p(p + 1)(p - 1)^2\). Let \(\ell\) be an odd prime dividing \(p - 1\). Then \(\ell \ndivides p, \ell \ndivides p + 1\) so \(\ell^2\) is the largest power of \(\ell\) dividing \(|\GL_2(\F_p)|\).

  Define the unit group
  \[
    (\Z/p\Z)^\times = \{x \in \Z/p\Z: \exists y \in \Z/p\Z, xy = 1\} = \{x \in \Z/p\Z: x \neq 0\}
  \]
  which is isomorphic to \(C_{p - 1}\). Thus it has a subgroup \(C_\ell \leq C_{p - 1}\), i.e.\ we can find \(x \in (\Z/p\Z)^\times\) such that \(x^\ell = 1\).

  Let
  \[
    H = \left\{
      \begin{psmallmatrix}
        a & 0 \\
        0 & b
      \end{psmallmatrix}
      : a, b \in (\Z/p\Z)^\times, a^\ell = b^\ell = 1 \right\}
    %
    \cong C_\ell \times C_\ell \leq \GL_2(\F_p).
  \]
  Then \(H\) is a Sylow \(\ell\)-subgroup.
\end{eg}

\begin{eg}
  Let
  \[
    \SL_2(\F_p) = \ker (\det: \GL_2(\F_p) \to (\Z/p\Z)^\times).
  \]
  \(\det\) is surjective as \(\det \begin{psmallmatrix} \lambda & 0 \\ 0 & 1 \end{psmallmatrix} = \lambda\) so \(\SL_2(\F_p) \normal \GL_2(\F_p)\) has index \(p - 1\). Thus
  \[
    |\SL_2(\F_p)| = (p - 1)p(p + 1).
  \]

  Further define
  \[
    \PSL_2(\F_p) = \SL_2(\F_p)/
    \{
    \begin{psmallmatrix}
      \lambda & 0 \\
      0 & \lambda
    \end{psmallmatrix}
    \}.
  \]
  If \(\begin{psmallmatrix} \lambda & 0 \\ 0 & \lambda \end{psmallmatrix} \in \SL_2(\F_p)\), then \(\lambda^2 = 1\). As long as \(p > 2\), there are two such \(\lambda\)'s, \(\pm 1\) so
  \[
    |\PSL_2(\F_p)| = \frac{(p - 1)p(p + 1)}{2}.
  \]

  Let \((\Z/p\Z)_\infty = \Z/p\Z \cup \{\infty\}\). Then \(\PSL_2(\F_p)\) acts on \((\Z/p\Z)_\infty\) by the MÃ¶bius map
  \[
    \begin{bmatrix}
      a & b \\
      c & d
    \end{bmatrix}
    * z = \frac{az + b}{cz + d}.
  \]

  Take \(p = 5\) for example, this actions gives a homomorphism
  \[
    \varphi: \PSL_2(\F_5) \to S_6.
  \]
  \(|\PSL_2(\F_5)| = 60\). Claim \(\varphi\) is injective.

  \begin{proof}
    Suppose \(\frac{az + b}{cz + d} = z\) for all \(z\). Set \(z = 0\), \(b = 0\). \(z = \infty\), \(c = 0\). \(z = 1\), \(a = d\). Thus
    \[
      \begin{bmatrix}
        a & b \\
        c & d
      \end{bmatrix}
      =
      \begin{bmatrix}
        1 & 0 \\
        0 & 1
      \end{bmatrix}
      \in \PSL_2(\F_5).
    \]
  \end{proof}

  Further claim \(\im \varphi \leq A_6\).

  \begin{proof}
    Consider
    \[
      1 \to \PSL_2(\F_5) \stackrel{\varphi}{\to} S_6 \stackrel{\sgn}{\to} C_2.
    \]
    Need to show \(\psi = \sgn \compose \varphi\) is trivial. We already know elements of odd order in \(\PSL_2(\F_5)\) has be be sent to \(1\).

    Note that \(H = \left\{ \begin{bsmallmatrix} \lambda & 0 \\ 0 & \lambda^{-1} \end{bsmallmatrix}, \begin{bsmallmatrix} 0 & \lambda \\ -\lambda^{-1} & 0 \end{bsmallmatrix} \right\}\) has order \(4\), so it is a Sylow \(2\)-subgroup of \(\PSL_2(\F_5)\). Any elemnt of order \(2\) or \(4\) is conjugate to an element in the group. We will show \(\psi(H) = \{e\}\).

    \(H\) is generated by \(\begin{bsmallmatrix} -2 & 0 \\ 0 & 2 \end{bsmallmatrix}\) and \(\begin{bsmallmatrix} 0 & 1 \\ -1 & 0 \end{bsmallmatrix}\). \(\begin{bsmallmatrix} -2 & 0 \\ 0 & 2 \end{bsmallmatrix}\) acts on \((\Z/5\Z)_\infty\) via \(z \mapsto -z\). It is thus an even permutation. \(\begin{bsmallmatrix} 0 & 1 \\ -1 & 0 \end{bsmallmatrix}\) acts via \(z \mapsto - \frac{1}{z}\), which is also an even permutation.
  \end{proof}
\end{eg}

\section{Rings}

\subsection{Definitions}

\begin{definition}[Ring]\index{ring}
  A \emph{ring} is a quintuple \((R, +, \cdot, 0_R, 1_R)\) such that
  \begin{itemize}
  \item \((R, +, 0_R)\) is an abelian group,
  \item the operation \(- \cdot -: R \times R \to R\) is associative and satisfies
    \[
      1_R \cdot r = r = r \cdot 1_R
    \]
  \item \(r \cdot (r_1 + r_2) = r \cdot r_1 + r \cdot r_2\) and \((r_1 + r_2) \cdot r = r_1 \cdot r + r_2 \cdot r\).
  \end{itemize}
\end{definition}

A ring is \emph{commutative} if for all \(a, b\in R\), \(a \cdot b = b \cdot a\). We will only consider commutative rings in this course.

\begin{definition}[Subring]\index{ring!subring}
  If \((R, +, \cdot 0_R, 1_R)\) is a ring and \(S \subseteq R\), then it is a \emph{subring} if \(0_R, 1_R \in S\) and \(+, \cdot\) make \(S\) into a ring. Write \(S \leq R\).
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(\Z \leq \Q \leq \R \leq \C\) with usual \(0, +\) and \(\cdot\).
  \item \(\Z[i] = \{a + ib: a, b \in \Z\}\) is the subring of \emph{Gaussian integers}.
  \item \(\Q[\sqrt 2] = \{a + \sqrt 2 b: a, b \in \Q\} \leq \R\).
  \end{enumerate}
\end{eg}

\begin{definition}[Unit]\index{unit}
  An element \(r \in R\) is a \emph{unit} if there exists \(s \in R\) such that \(s \cdot r = 1_R\).
\end{definition}

Note that being a unit depends on the ambient ring: \(2 \in \Z\) is not a unit but \(2 \in \Q\) is.

If every \(r \in R, r \neq 0_R\) is a unit, then \(R\) is a \emph{field}.

\begin{notation}
  If \(x \in R\), write \(-x \in R\) for the inverse of \(x\) in \((R, +, 0_R)\). Write \(y - x = y + (-x)\).
\end{notation}

\begin{eg}
  \(0_R + 0_R = 0_R\) so
  \[
    r \cdot 0_R = r \cdot (0_R + 0_R) = r \cdot 0_R + r \cdot 0_R
  \]
  so \(r \cdot 0_R = 0_R\). Thus if \(R \neq \{0\}\), \(0_R \neq 1_R\) since choosing \(r \neq 0_R\), we would get \(r = r \cdot 1_R = r \cdot 0_R = 0_R\). Absurd.

  However, \((\{0\}, +, \cdot, 0, 0)\) is indeed a ring.
\end{eg}

\begin{eg}
  If \(R\) and \(S\) are rings, then \(R \times S\) is a ring via
  \begin{align*}
    (r_1, s_1) + (r_2, s_2) &= (r_1 + r_2, s_1 + s_2) \\
    (r_1, s_1) \cdot (r_2, s_2) &= (r_1 \cdot r_2, s_1 \cdot s_2) \\
    1_{R \times S} &= (1_R, 1_S) \\
    0_{R \times S} &= (0_R, 0_S)
  \end{align*}
  Let \(e_1 = (1_R, 0), e_2 = (0, 1_S)\), then\footnote{This is known as orthogonal idempotents.}
  \begin{align*}
    e_1^2 &= e_1 \\
    e_2^2 &= e_2 \\
    e_1 + e_2 &= 1_{R \times S}
  \end{align*}
\end{eg}

\begin{eg}[Polynomial]
  Let \(R\) be a ring. A \emph{polynomial} \(f\) over \(R\) is an expression
  \[
    f = a_0 + a_1X + \cdots a_nX^n
  \]
  with \(a_i \in R\) for all \(i\). Note that \(X\) is just a symbol and the sum is formal. We will consider \(f\) and
  \[
    a_0 + a_1X + \cdots a_nX^n + 0_R \cdot X^{n + 1}
  \]
  as equal.

  The \emph{degree} of \(f\) is the largest \(n\) such that \(a_n \neq 0\).

  If in addition \(a_n = 1_R\), we say \(f\) is \emph{monic}.

  Write \(R[X]\) for the set of all polynomials over \(R\). If
  \[
    g = b_0 + b_1X + \dots + b_mX^m,
  \]
  we define
  \begin{align*}
    f + g &= \sum_{i = 0}^{\max{(f, g)}} (a_i + b_i)X^i \\
    f \cdot g &= \sum_{i} \sum_{j = 0}^{i} a_j b_{i - j}X^i
  \end{align*}
  which make \(R[X]\) a ring.

  We consider \(R\) as a subring of \(R[X]\), given by the polynomials of degree \(0\). In particular, \(1_R \in R\) gives \(1_{R[X]}\).
\end{eg}

\begin{eg}
  Conisder \(\Z/2\Z[X]\), \(f = X + X^2 \neq 0\). We have
  \begin{align*}
    f(0) &= 0 + 0 = 0 \\
    f(1) &= 1 + 1 = 0
  \end{align*}
  This shows that a polynomial vanishing everywhere on a finite ring is not necessarily zero (but necessarily so for an infinite ring).
\end{eg}

\begin{eg}
  Write \(R[[X]]\) for the ring of \emph{formal power series} with elements
  \[
    f = a_0 + a_1X + a_2X^2 + \dots
  \]
  with the same addition and multiplication as above.
\end{eg}

\begin{eg}
  The \emph{Laurent polynomials} \(R[X, X^{-1}]\) is the set of expressions
  \[
    f = \sum_{i \in \Z} a_iX^i
  \]
  such that only finitely many \(a_i\)'s are non-zero.
\end{eg}

\begin{eg}
  The ring of \emph{Laurent series} are elements of the form
  \[
    f = \sum_{i \in \Z}^{ } a_iX^i
  \]
  with only finitely many \(i < 0\) such that \(a_i \neq 0\).
\end{eg}

\begin{eg}
  If \(R\) is a ring and \(X\) is a set, the set \(R^X\) of all functions \(f: X \to R\) is a ring via
  \begin{align*}
    (f + g)(x) &= f(x) + g(x) \\
    (f \cdot g)(x) &= f(x) \cdot g(x) \\
    (1_{R^X})(x) &= 1_R \\
    (0_{R^X})(x) &= 0_R
  \end{align*}
  For example, we have the following chain
  \[
    \R[X] = \{f: \R \to \R \text{ polynomial}\} < \{f: \R \to \R \text{ continuous}\} < \R^\R.
  \]
\end{eg}

\subsection{Homomorphism, Ideals and Isomorphisms}

\begin{definition}[Homomorphism]\index{ring!homomorphism}
  A function \(\varphi: R\to S\) between rings is a \emph{homomorphism} if
  \begin{itemize}
  \item \(\varphi(r_1 + r_2) = \varphi(r_1) + \varphi(r_2)\), i.e.\ \(\varphi:(R, +, 0_R) \to (S, +, 0_S)\) is a group homomorphism,
  \item \(\varphi(r_1r_2) = \varphi(r_1)\varphi(r_2\),
  \item \(\varphi(1_R) = 1_S\).
  \end{itemize}

  If in addition \(\varphi\) is a bijection, it is an \emph{isomorphism}.
\end{definition}

The \emph{kernel} of \(\varphi: R \to S\) is
\[
  \ker \varphi = \{r\in R: \varphi(r) = 0_S\}.
\]

\begin{lemma}
  \(\varphi:R \to S\) is injective if and only if \(\ker \varphi = \{0_R\}\).
\end{lemma}

\begin{proof}
  \(\varphi: (R, +, 0_R) \to (S, +, 0_S)\) is a group homomorphism and its kernel as group homomorphism is also \(\ker \varphi\).
\end{proof}

\begin{definition}[Ideal]\index{ideal}
  A subset \(I \subseteq R\) is an \emph{ideal} if
  \begin{itemize}
  \item \(I\) is a subgroup of \((R, +, 0_R)\),
  \item strong (multiplicative) closure: for all \(x \in I, r \in R\), \(x \cdot r \in I\).
  \end{itemize}
  Write \(I \ideal R\).
\end{definition}

We say \(I \ideal R\) is \emph{proper} if \(I \neq R\).

\begin{lemma}
  If \(\varphi: R \to S\) is a homomorphism then \(\ker \varphi \ideal R\).
\end{lemma}

\begin{proof}
  The first axiom holds since \(\varphi\) is a group homomorphism. Let \(x \in \ker \varphi, r \in R\), then
  \[
    \varphi(r \cdot x) = \varphi(r) \cdot \varphi(x) = \varphi(r) \cdot 0_S = 0_S
  \]
  so \(r \cdot x \in \ker \varphi\).
\end{proof}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item If \(I \ideal R\) and \(1_r \in I\), for all \(r \in R\), \(r = r \cdot 1 \cdot 1_R \in I\) so \(I = R\).

    Equivalently, if \(I\) is a proper ideal then \(1_R \notin I\). Consequenctly, proper ideals are never subrings.
  \item This can be generalaised to units: if \(u\) is a unit in \(R\) with inverse \(v \in R\), then if \(u \in I\), so is \(1_R = u \cdot v \in R\) so \(I = R\).

    Equivalently, if \(I\) is a proper ideal then it contains \emph{no} unit.
  \end{enumerate}
\end{eg}

\begin{eg}
  If \(R\) is a field then \(\{0\}\) and \(R\) are the only ideals.
\end{eg}

\begin{eg}
  In the ring \(\Z\), all ideals are of the form
  \[
    n\Z = \{\dots, -2n, -n, 0, n, 2n, \dots\}.
  \]
\end{eg}

\begin{proof}
  \(n\Z\) is certainly an ideal.

  Let \(I \ideal \Z\) be an ideal. Let \(n \in I\) be the smallest positive element. Then \(n\Z \subseteq I\). If this is not an equality, choose \(m \in I \setminus n\Z\). By Euclidean algorith, \(m = nq + r\) with \(0 \leq r < n\). So \(r = m - nq \in I\). But \(n\) is the smallest positive element in \(I\), so \(r = 0\). Thus \(m \in n\Z\).
\end{proof}

\begin{definition}
  For an element \(a \in R\), write
  \[
    (a) = \{a \cdot r: r \in R\} \ideal R,
  \]
  the ideal \emph{generated by \(a\)}.

  More generally, for a set of elements \(\{a_1, \dots, a_s\}\), write
  \[
    (a_1, \dots, a_s) = \{a_1r_1 + \dots + a_sr_s: r_1, \dots, r_s \in R\} \ideal R.
  \]
\end{definition}

\begin{definition}[Principal ideal]\index{ideal!principal}
  If \(I \ideal R\) if of the form \((a)\), we say it is a \emph{principal ideal}.
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(n\Z = (n) \ideal \Z\) is ideal. In fact we have shown that all ideals of \(\Z\) are principal.
  \item \((X) = \{\text{polynomials with constant coefficient } 0\} \ideal \C[X]\).
  \end{enumerate}
\end{eg}

\begin{proposition}[Quotient ring]\index{ring!quotient}
  Let \(I \ideal R\) be an ideal. The \emph{quotient ring} is the set of cosets \(r + I\) (i.e.\ \((R, +, 0)/I\)). Addition and multiplication are given by
  \begin{align*}
    (r_1 + I) + (r_2 + I) &= r_1 + r_2 + I \\
    (r_1 + I) \cdot (r_2 + I) &= r_1r_2 + I
  \end{align*}
  with \(0_{R/I} = 0_R + I, 1_{R/I} = 1_R + I\). This is a ring, and the quotient map
  \begin{align*}
    R &\to R/I \\
    r &\mapsto r + I
  \end{align*}
  is a ring homomorphism.
\end{proposition}

\begin{proof}
  We already knew \((R/I, +, 0_{R/I})\) is an abelian group and addition as described above is well-defined. Suppose
  \begin{align*}
    r_1 + I &= r_1' + I \\
    r_2 + I &= r_2' + I
  \end{align*}
  then \(r_1' - r_1 = a_1 \in I, r_2' - r_2 = a_2 \in I\). So
  \[
    r_1'r_2' = (r_1 + a_1)(r_2 + a_2) = r_1r_2 + \underbrace{r_1a_2 + r_2a_1 + a_1a_2}_{\in I}.
  \]
  Thus \(r_1'r_2' + I = r_1r_2 + I\). This shows multiplication is well-defined. The ring axioms for \(R/I\) then follow from those of \(R\).
\end{proof}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(n\Z \ideal \Z\) so \(\Z/n\Z\) is a ring. It has elements
    \[
      0 + n\Z, 1 + n\Z, \dots, (n - 1) + n\Z
    \]
    and addition and multiplication are modular arithmetic mod \(n\).
  \item \((X) \ideal \C[X]\) so \(\C[X]/(X)\) is a ring. We have
    \[
      a_0 + \underbrace{a_1X + a_2X^2 + \dots + a_nX^n}_{\in (X)} + (X) = a_0 + X.
    \]
    If \(a_0 + (X) = b_0 + (X)\) then \(a_0 - b_0 \in (X)\) so \(a_0 - b_0\) is divisible by \(X\), \(a_0 - b_0 = 0\). Consider
    \begin{align*}
      \varphi: \C &\to \C[X]/(X) \\
      a &\mapsto a + (X)
    \end{align*}
    which is a bijection. Observe that \(\varphi\) is a bijection and its inverse is given by the map \(f + (X) \mapsto f(0)\).
  \end{enumerate}
\end{eg}

\begin{proposition}[Euclidean algorithm for polynomials]
  \label{prop:polynomial euclidean}
  Let \(F\) be a \emph{field} and \(f, g \in F[X]\). Then we may write
  \[
    f = g \cdot q + r
  \]
  with \(\deg r < \deg g\).
\end{proposition}

\begin{proof}
  Let \(\deg f = n, \deg g = m\) so
  \begin{align*}
    f &= a_0 + a_1X + \dots + a_nX^n \\
    g &= b_0 + b_1X + \dots + b_nX^m
  \end{align*}
  with \(a_n, b_m \neq 0\).

  If \(n < m\), let \(q = 0, r = f\) so done. Suppose \(n \geq m\) and proceed by induction on \(n\). Let
  \[
    f_1 = f - gX^{n - m} a_nb_m^{-1}
  \]
  where \(b_m^{-1}\) exists since \(b_m \in F\) and \(b_m \neq 0\). THis has degree \(< n\). If \(n = m\) then
  \[
    f = g(X^{n - m}a_nb_m^{-1}) + f_1
  \]
  with \(\deg f_1 < n = m = \deg g\). If \(n > m\), by induction we have \(f_1 = gq_1 + r\) with \(\deg r < \deg g\) so
  \[
    f = g(X^{n - m}a_nb_m^{-1}) + gq_1 + r = g(X^{n - m}a_nb_m^{-1} + q_1) + r
  \]
  as required.
\end{proof}

\begin{eg}
  Consider \((X^2 + 1) \ideal \R[X]\) and let \(R = \R[X]/(X^2 + 1)\). It has elements of the form \(f + (X^2 + 1)\). By \nameref{prop:polynomial euclidean} \(f = (X^2 + 1)g + r\) with \(\deg r \leq 1\) so \(f + (X^2 + 1) = r + (X^2 + 1)\). Any element can be represented by a polynomial of degree \(\leq 1\), say \(a + bX + (X^2 + 1)\). If \(a_1 + b_1X + (X^2 + 1) = a_2 + b_2X + (X^2 + 1)\) then \((a_1 + b_1X) - (a_2 + b_2X)\) is divisible by \(X^2 + 1\). But degrees add in multiplication so \(a_1 + b_1X = a_2 + b_2X\). Consider the bijection
  \begin{align*}
    \varphi: R &\to \C \\
    a + bX + (X^2 + 1) &\mapsto a + bi
  \end{align*}
  It obviously send addition to addition. For multiplication,
  \begin{align*}
    &\varphi((a + bX + (X^2 + 1)) \cdot (c + dX + (X^2 + 1))) \\
    =& \varphi(ac + (bc + ad)X + bdX^2 + (X^2 + 1)) \\
    =& \varphi(ac + (bc + ad)X + bd(X^2 + 1) - bd + (X^2 + 1) \\
    =& (ac - bd) + (bc + ad)i \\
    =& (a + bi) \cdot (c + di) \\
    =& \varphi(a + bX + (X^2 + 1)) \cdot \varphi(c + dX + (X^2 + 1))
  \end{align*}
  Thus we have shown that \(\C \cong \R[X]/(X^2 + 1)\).
\end{eg}

\begin{remark}
  The key idea in the proof is to force \(X^2 + 1\) to vanish by quotient the polynomial ring by the generated ideal so that ``\(X = \pm i\)''. Similarly \(\Q[X]/(X^2 - 2) \cong \Q[\sqrt 2] \leq \R\).
\end{remark}

This is a nice result. However, the proof is too cumbersum to be generalised as we have to check well-definedness for each case. Instead, we have the following theorems stating the general results for abstract rings and ideals. The proofs are similar to those for groups and are omitted.

\begin{theorem}[1st Isomorphism Theorem]\index{isomorphism theorem}
  Let \(\varphi: R \to S\) be a ring isomorphism. Then \(\ker \varphi \ideal R, \im \varphi \leq S\) and
  \begin{align*}
    R/\ker \varphi &\to \im \varphi \\
    r + \ker \varphi &\mapsto \varphi(r)
  \end{align*}
  is a ring isomorphism.
\end{theorem}

\begin{theorem}[2nd Isomorphism Theorem]
  Let \(R \leq S\) and \(J \ideal S\). Then \(R \cap J \ideal R\) and
  \[
    \frac{R + J}{J} \cong \frac{R}{F \cap J}
  \]
  as rings.
\end{theorem}

\begin{theorem}[Subring and ideal correspondence]
  Let \(I \ideal R\). Then there is a bijection between
  \begin{align*}
    \{\text{subrings of } R/I\} &\leftrightarrow \{\text{subrings of } R \text{ containing } I\} \\
    L \leq R/I &\mapsto \{r \in R: r + I \in L\} \\
    S/I \leq R/I &\mapsfrom I \ideal S \leq R
  \end{align*}
  and
  \begin{align*}
    \{\text{ideals of } R/I\} &\leftrightarrow \{\text{ideals of } R \text{ containing } I\} \\
    L \ideal R/I &\mapsto \{r \in R: r + I \in L\} \\
    J/I \ideal R/I &\mapsfrom I \ideal J \ideal R
  \end{align*}
\end{theorem}

\begin{theorem}[3rd Isomorphism Theorem]
  Let \(I, J \ideal R, I \subseteq J\). Then \(J/I \ideal R/I\) and
  \[
    \frac{R/I}{J/I} \cong R/J.
  \]
\end{theorem}

\begin{eg}
  Consider the homomorphism
  \begin{align*}
    \varphi: \R[X] &\to \C \\
    \sum a_nX^n &\mapsto \sum a_n i^n
  \end{align*}
  i.e.\ evaluation at \(i\). It is surjective and
  \[
    \ker \varphi = \{f \in \R[X]: f(i) = 0\} = (X^2 + 1)
  \]
  because real polynomials with \(i\) as a root also have \(-i\) as aroot, so are divisible by \((X - i)(X + i) = X^2 + 1\). By 1st Isomorphism Theorem
  \[
    \R[X]/(X^2 + 1) \cong \C.
  \]
\end{eg}

\begin{eg}[Characteristic of a ring]
  For any ring \(R\) there is a unique homomorphism
  \begin{align*}
    \iota: \Z &\to R \\
    n &\mapsto
        \begin{cases}
          \underbrace{1_R + 1_R + \dots + 1_R}_{n \text{ times}} & n > 0 \\
          -\underbrace{(1_R + 1_R + \dots + 1_R)}_{n \text{ times}} & n < 0
        \end{cases}
  \end{align*}
  \(\ker \iota \ideal \Z\) so \(\ker \iota = n\Z\) for some \(n \geq 0\). This number \(n\) is called the \emph{characteristic} of \(R\), denoted \(\ch R\).

  For example, \(\Z \leq \Q \leq \R \leq \C\) all have characteristic \(0\). \(\Z/n\Z\) have characteristic \(n\).
\end{eg}

\subsection{Integral domain, Field of fractions, Maximal and Prime ideals}

\begin{definition}[Integral domain]\index{integral domain}
  A non-zero ring \(R\) is an \emph{integral domain} if for all \(a, b \in R\), \(a \cdot b = 0\) implies that \(a = 0\) or \(b = 0\).
\end{definition}

\begin{definition}[Zero divisor]\index{zero divisor}
  \(x\) is a \emph{zero divisor} in \(R\) if \(x \neq 0\) and there exists \(y \neq 0\) such that \(x \cdot y = 0\).
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item All fields are integral domains: if \(xy = 0\) with \(y \neq 0\), then \(y^{-1}\) exists and
    \[
      0 = 0 \cdot y^{-1} = (xy) \cdot y^{-1} = x.
    \]
  \item A subring of an integral domain is an integral domain. Thus \(\Z \leq \Q, \Z[i] \leq \C\) are integral domains.
  \end{enumerate}
\end{eg}

\begin{definition}[Principal ideal domain]\index{PID}
  A ring \(R\) is a \emph{principal ideal domain} (PID) if it is an integral domain and every ideal is principal, i.e.\ for all \(I \ideal R\), there exists \(a \in R\) such that \(I = (a)\).
\end{definition}

\begin{eg}
  \(\Z\) is a PID.
\end{eg}

\begin{lemma}
  A finite integral domain is a field.
\end{lemma}

\begin{proof}
  Let \(a \neq 0 \in R\) and consider
  \begin{align*}
    a \cdot -: R &\to R \\
    b &\mapsto ab
  \end{align*}
  This is a group homomorphism and its kernel is
  \[
    \ker (a \cdot -) = \{b \in R: ab = 0\} = \{0\}.
  \]
  Thus \(a \cdot -\) is injective. As \(|R| < \infty\), \(a \cdot -\) must also be surjective. Thus there exists \(b \in R\) such that \(ab = 1\). \(b = a^{-1}\).
\end{proof}

\begin{lemma}
  Let \(R\) be an integral domain. Then \(R[X]\) is an integral domain.
\end{lemma}

\begin{proof}
  Let
  \begin{align*}
    f &= \sum_{i = 0}^n a_iX^i \\
    g &= \sum_{j = 0}^m b_jX^j
  \end{align*}
  with \(a_n, b_m \neq 0\) be non-zero polynomials. Then the largest power of \(X\) in \(fg\) is \(X^{m + n}\) and its coefficient is \(a_nb_m \in R\). This is a product of non-zero elements on an integral domain so non-zero. Thus \(fg \neq 0\).
\end{proof}

This gives us a way to produce a new integral domain from old ones. Moreover, iterating this, \(R[X_1, \dots, X_n] = ((R[X_1])[X_2]\dots[X_n])\) is an integral domain.

\begin{theorem}[Field of fractions]\index{field of fractions}
  Let \(R\) be an integral domain. There is a \emph{field of fractions} \(F\) of \(R\) with the following properties:
  \begin{enumerate}
  \item \(F\) is a field,
  \item \(R \leq F\),
  \item every element of \(F\) is of the form \(a \cdot b^{-1}\) where \(a, b \in R \leq F\).
  \end{enumerate}
\end{theorem}

\begin{proof}
  Consider \(S = \{(a, b) \in R^2: b \neq 0\}\) with an equivalence relation
  \[
    (a, b) \sim (c, d) \Leftrightarrow ad = bd \in R.
  \]
  This is reflexive and symmetric. To show it is transitive, suppose \((a, b) \sim (c, d), (c, d) \sim (e, f)\). Then
  \[
    (ad)f = (bc)f = b(cf) = b(ed)
  \]
  so \(d(af - be) = 0\). As \(d \neq 0\) and \(R\) is an \emph{integral domain}, \(af - be = 0\), i.e.\ \((a, b) \sim (e, f)\).

  Let \(F = S/\sim\) and write \([(a, b)] = \frac{a}{b}\). Define
  \begin{align*}
    \frac{a}{b} + \frac{c}{d} &= \frac{ad + bc}{bd} \\
    \frac{a}{b} \cdot \frac{c}{d} &= \frac{ac}{bd} \\
    0_F &= \frac{0}{1} \\
    1_F &= \frac{1}{1}
  \end{align*}
  These are well-defined. If \(\frac{a}{b} \neq 0_F = \frac{0}{1}\) then \(a \cdot 1\neq 0 \cdot b = 0\). Then \(\frac{b}{a} \in F\) and \(\frac{a}{b} \cdot \frac{b}{a} = \frac{1}{1} = 1_F\) so \(\frac{a}{b} \in F\) has an inverse. \(F\) is a field.

  \(R\) is a subring of \(F\) via
  \begin{align*}
    R &\embed F \\
    r &\mapsto \frac{r}{1}
  \end{align*}
  which is injective as \(R\) is an integral domain.
\end{proof}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item The field of fractions of \(\Z\) is \(\Q\).
  \item The field of fractions of \(\C[X]\) is
    \[
      \C(X) = \left\{ \frac{p(X)}{q(X)}: p(X), q(X) \in \C[X], q(X) \neq 0 \right\},
    \]
    the field of \emph{rational functions}.
  \end{enumerate}
\end{eg}

As we have mentioned before, \(\{0\}\) is a bona fide ring although it is a (trivial) counterexample to many results. However, it is not a field as we require \(0 \neq 1\). To emphasise this, we declare

\begin{fiat}
  The ring \(\{0\}\) is \emph{not} a field.
\end{fiat}

\begin{lemma}
  A non-zero ring \(R\) is a field if and only if its only ideals are \(\{0\}\) and \(R\).
\end{lemma}

\begin{proof}\leavevmode
  \begin{itemize}
  \item \(\Rightarrow\): Suppose \(I \ideal R\) is a non-zero ideal, then it contains \(a \neq 0\). But an ideal containing a unit must be the whole ring.
  \item \(\Leftarrow\): Let \(x \neq 0 \in R\). Then \((x) = R\) as it is not the zero ideal. Thus there exists \(y \in R\) such that \(xy = 1_R\) so \(x\) is a unit.
  \end{itemize}
\end{proof}

\begin{definition}[Maximal ideal]\index{ideal!maximal}
  An ideal \(I \ideal R\) is \emph{maximal} if there is no proper ideal which properly contains \(I\).
\end{definition}

\begin{lemma}
  An ideal \(I \ideal R\) is maximal if and only if \(R/I\) is a field.
\end{lemma}

\begin{proof}
  \(R/I\) is a field if and only if \(I/I\) and \(R/I\) are the only ideals in \(R/I\), if and only if \(I, R \ideal R\) are the only ideals containing \(I\).
\end{proof}

\begin{definition}[Prime ideal]\index{ideal!prime}
  An ideal \(I \ideal R\) is \emph{prime} if \(I\) is proper and if \(a, b \in R\) such that \(ab \in I\) then \(a \in I\) or \(b \in I\).
\end{definition}

\begin{eg}
  The ideal \(n\Z\) is prime if and only if \(n\) is \(0\) or a prime number: if \(p\) is prime and \(a, b \in p\Z\) then \(p \divides ab\) so \(p \divides a\) or \(p \divides b\), i.e.\ \(a \in p\Z\) or \(b \in p\Z\). Conversely, if \(n = uv\) is composite, \(u < n\) then \(uv \in n\Z\) but \(u \neq n\Z\).
\end{eg}

\begin{lemma}
  \(I \ideal R\) is prime if and only if \(R/I\) is an integral domain.
\end{lemma}

\begin{proof}\leavevmode
  \begin{itemize}
  \item \(\Rightarrow\): Supose \(I \ideal R\) is prime. Let \(a + I, b + I \in R/I\) be such that \((a + I)(b + I) = 0_{R/I}\). Since \(ab + I = 0_{R/I}\), \(ab \in I\). As \(I\) is prime, \(a \in I\) or \(b \in I\), i.e.\ \(a + I = 0_{R/I}\) or \(b + I = 0_{R/I}\). Thus \(R/I\) is an integral domain.
  \item \(\Leftarrow\): Suppose \(R/I\) is an integral domain. Let \(a, b \in R\) such that \(ab + I = 0_{R/I}\). \((a + I)(b + I) = 0_{R/I}\). As \(R/I\) is an integral domain, \(a + I = 0_{R/I}\) or \(b + I = 0_{R/I}\), i.e.\ \(a \in I\) or \(b \in I\).
  \end{itemize}
\end{proof}

\begin{corollary}
  Maximal ideals are prime.
\end{corollary}

\begin{proof}
  Fields are integral domains.
\end{proof}

\begin{lemma}
  If \(R\) is an integral domain then its characteristic is \(0\) or a prime number.
\end{lemma}

\begin{proof}
  Consider \(\ker (\iota: \Z \to R) = n\Z\). By 1st Isomorphism Theorem
  \[
    \Z/n\Z \cong \im \iota \leq R.
  \]
  As a subring of an integral domain is an integral domain, \(\Z/n\Z\) is an integral domain so \(n\Z \ideal \Z\) is prime. Thus \(n = 0\) or a prime number.
\end{proof}

\subsection{Factorisation in integral domains}

Let \(R\) be an integral domain in this section.

We begin with several definitions. Note that for every statement about an element of the ring there is an equivalent one in terms of ideals.

\begin{definition}[Unit, divisibility, associates, irreducible, prime]\index{unit}\index{associate}\index{irreducible}\index{prime}\leavevmode
  \begin{itemize}
  \item An element \(a \in R\) is a \emph{unit} if there is \(b \in R\) such that \(ab = 1_R\). Equivalently, \((a) = R\).
  \item \(a \in R\) \emph{divides} \(b \in R\) if there is a \(c \in R\) such that \(b = ac\). Equivalently, \((b) \subseteq (a)\). Write \(a \divides b\).
  \item \(a, b \in R\) are \emph{associates} if \(a \divides b\) and \(b \divides a\). Equivalently, \((a) = (b)\).
  \item \(r \in R\) is \emph{irreducible} if it is not zero, not a unit and if \(r = ab\) then \(a\) or \(b\) is a unit.
  \item \(r \in R\) is \emph{prime} if it is not zero, not a unit and if \(r \divides ab\) then \(r \divides a\) or \(r \divides b\). Equivalently, \(ab \in (r) \Rightarrow a \in (r) \text{ or } b \in (r)\).
  \end{itemize}
\end{definition}

\begin{remark}
  Being a unit/irreducible/prime depends not only on the element but also on the ambient ring: \(2X \in \Z[X]\) is not irreducible but \(2X \in \Q[X]\) is.
\end{remark}

\begin{lemma}
  \((r) \ideal R\) is prime if and only if \(r\) is zero or prime.
\end{lemma}

\begin{proof}\leavevmode
  \begin{itemize}
  \item \(\Rightarrow\): Let \((r) \ideal R\) be a prime ideal and \(r \divides ab\). Then \(ab \in (r)\) so \(a \in (r)\) or \(b \in (r)\) as \((r)\) is prime. So \(r \divides a\) or \(r \divides b\). \(r\) is \(0\) or a prime.
  \item \(\Leftarrow\): If \(r = 0\) then \((0) \ideal R\) is a prime ideal since \(R \cong R/(0)\) is an integral domain. Let \(r \neq 0\) be a prime and \(ab \in (r)\). Then \(r \divides ab\) so \(r \divides a\) or \(r \divides b\). \(a \in (r)\) or \(b \in (r)\) as required.
  \end{itemize}
\end{proof}

\begin{lemma}
  If \(r \in R\) is prime then it is irreducible.
\end{lemma}

\begin{proof}
  Let \(r = ab\). Then \(r \divides ab\) so \(r \divides a\) or \(r \divides b\). Suppose \(r \divides a\) wlog. Then \(a = rc\). \(r = (rc)b\), \(r(bc - 1) = 0\). As \(r \neq 0\) and \(R\) is an integral domain, \(bc - 1 = 0\) so \(b\) is a unit.
\end{proof}

\begin{eg}
  Let \(R = \Z[\sqrt{-5}] = \{a + b \sqrt{-5}: a, b \in \Z\} \leq \C\). This is a subring of a field so an integral domain. Define
  \begin{align*}
    N: R &\to \Z_{\geq 0} \\
    a + b\sqrt{-5} &\mapsto a^2 +5b^2
  \end{align*}
  so \(N(z) = z\conj z\). Note \(N(r_1r_2) = N(r_1)N(r_2)\). If \(r\) is a unit then there exists \(s \in R\) such that \(rs = 1\), then \(N(r)N(s) = N(1) = 1\), so \(N(r) = 1\). So \(r = a + b \sqrt{-5}\) such that \(a^2 + 5b^2 = 1\). The only possibility is \(r = \pm 1\). Claim that \(2 \in R\) is irreducible:

  \begin{proof}
    Let \(2 = ab\) so \(N(a)N(b) = 4\). \(N(a) = 1, 2\) or \(4\). But \(N(a) \neq 2\) so \(N(a) = 1\) or \(4\), \(N(b) = 4\) or \(1\) so \(a\) or \(b\) is a unit.
  \end{proof}
  Similarly we can show that \(3\) and \(1 \pm \sqrt{-5}\) are irreducible.

  Note that
  \[
    (1 + \sqrt{-5})(1 - \sqrt{-5}) = 1 + 5 = 6 = 2 \cdot 3
  \]
  so \(2 \divides (1 + \sqrt{-5})(1 - \sqrt{-5})\) but \(N(1 \pm \sqrt{-5}) = 6\) is \emph{not} divisible by \(N(2) = 4\) so \(2 \ndivides 1 \pm \sqrt{-5}\). Thus \(2 \in R\) is not prime.

  We also find that \(6 = 2 \cdot 3 = (1 + \sqrt{-5})(1 - \sqrt{-5})\) has two different factorisations into irreducibles.
\end{eg}

\begin{definition}[Euclidean domain]\index{Euclidean domain}
  An integral domain \(R\) is a \emph{Euclidean domain} (ED) if there is a function \(\varphi: R \setminus \{0\} \to \Z_{\geq 0}\), a \emph{Euclidean function} such that
  \begin{enumerate}
  \item \(\forall a, b \in R \setminus \{0\}\), \(\varphi(ab) \geq \varphi(a)\),
  \item \(\forall a, b \in R, b \neq 0\), we have \(a = bq + r\) with \(r = 0\) or \(\varphi(r) < \varphi(b)\).
  \end{enumerate}
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(\Z\) is a Euclidean domain with \(\varphi(n) = |n|\).
  \item For a field \(\F\), \(\F[X]\) is a Euclidean domain with \(\varphi(f) = \deg f\).
  \item \(\Z[i]\) is a Euclidean domain with \(\varphi(a + ib) = a^2 + b^2 = (a + ib)(a - ib)\).

    \begin{proof}
      Let \(z_1, z_2 \in \Z[i], z_2 \neq 0\). Consider \(\frac{z_1}{z_2} \in \C\). By considering the lattice of Gaussian integers on the complex plane, we can find \(q \in \Z[i]\) such that \(\left|\frac{z_1}{z_2} - q \right| < 1\). Consider \(r = z_1 - qz_2 \in \Z[i]\),
      \[
        \left| \frac{r}{z_2} \right| = \left| \frac{z_1}{z_2} - q \right| < 1
      \]
      so \(|r| < |z_2|\) so \(\varphi(r) = |r|^2 < |z_2|^2 = \varphi(z_2)\).
    \end{proof}
  \item Similarly we can show \(\Z[\sqrt{-2}]\) is a Euclidean domain.
  \end{enumerate}
\end{eg}

\begin{proposition}
  If \(R\) is a ED then it is a PID.
\end{proposition}

This proof is a generalisation of the proof that \(\Z\) is a PID.

\begin{proof}
  Let \(I \ideal R\) and choose \(0 \neq b \in I\) such that \(\varphi(b)\) is minimal. If \(a \in I\) then Euclidean property gives \(a = qb + r\) with \(\varphi(r) < \varphi(b)\) or \(r = 0\). Then \(r = a - qb \in I\) but if \(r \neq 0\) then minimality of \(\varphi(b)\) is contradicted. Thus \(r = 0\) and \(a \in (b)\). \(I = (b)\).
\end{proof}

\begin{eg}
  \(\Z, \F[X]\) and \(\Z[i]\) are PIDs.
\end{eg}

\begin{eg}
  \(\Z[X]\) is \emph{not} a PID. Consider \((2, X) \ideal \Z[X]\). Suppose \((2, X) = (f)\) for some \(f \in \Z[X]\), then \(f \divides 2\). Degrees of polynomials on an integral domain add under multiplication so if \(f\) divides a constant polynomial it must be constant. Thus \(f = \pm 1, \pm 2\). If \(f = \pm 2\), \(\pm 2 \ndivides X\). Absurd. Thus \(f = \pm 1\), \((f) = \Z[X]\). But \(1 \neq (2, X)\). Absurd.
\end{eg}

\begin{eg}
  Let \(\F\) be a field and \(A \in \matrixring_n(\F)\). Consider
  \[
    I = \{f \in \F[X]: f(A) = 0\}.
  \]
  If \(f , g\in I\), \((f + g)(A) = f(A) + g(A) = 0\). If \(h \in \F[X]\), \((fh)(A) = f(A)h(A) = 0\) so \(I \ideal \F[X]\). As \(\F[X]\) is a PID, \(I = (m_A)\) for some \(m_A \in \F[X]\). This \(m_A\) is the \emph{minimal polynomial} of \(A\) and it follows that it is unique up to a unit.
\end{eg}

\begin{definition}[Unique factorisation domain]\index{unique factorisation domain}
  An integral domain is a \emph{unique factoriation domain} (UFD) if
  \begin{itemize}
  \item every non-zero, non-unit is a product of irreducibles,
  \item if \(p_1 \cdots p_n = q_1 \cdots q_m\) are factorisations into irreducibles, then \(n = m\) and \(p_i\) is an associate of \(q_i\) up to reordering.
  \end{itemize}
\end{definition}

We will show that PIDs are UFDs.

\begin{lemma}
  If \(R\) is a PID then irreducibles are primes.
\end{lemma}

\begin{proof}
  Let \(p \in R\) be irreducible and suppose \(s \divides ab\). Need to show that \(p \divides a\) or \(p \divides b\). Suppose \(p \ndivides a\). Consider \((p, a) \ideal R\). As \(R\) is a PID, there exists \(d \in R\) such that \((d) = (p, a)\), so \(p = q_1d, a = q_2d\). As \(p\) is irreducible, either \(q_1\) or \(d\) is a unit. If \(q_1\) is a unit then \(a = q_2d = q_2(q_1^{-1}p)\) so \(p \divides a\). Thus \(d\) must be a unid and \((p, a) = (d) = R\). THus \(1_R = rp + sa\) for some \(r\) and \(s\). \(b = brp + abs\) so \(p \divides b\).
\end{proof}

\begin{lemma}
  Let \(R\) be a PID and \(I_1 \subseteq I_2 \subseteq I_2 \subseteq \cdots\) be an increasing sequence of ideal. Then there exists \(N \in \N\) such that for all \(n \geq N\), \(I_n = I_{n + 1}\).
\end{lemma}

\begin{definition}[Noetherian]\index{ascending chain condition}\index{Noetherian}
  The above condition is the \emph{ascending chain condition}. A chain satisfying the above condition is \emph{Noetherian}.
\end{definition}

\begin{proof}
  Let \(I = \bigcup_{n = 1}^\infty I_n\) wich is again an ideal so \(I = (a)\) for some \(a \in R\). Then \(a \in I\) so there exists \(N \in \N\) such that \(a \in I_N\). Then
  \[
    (a) \subseteq I_N \subseteq I_{N + 1} \dots \subseteq (a)
  \]
  so equality throughout.
\end{proof}

\begin{theorem}
  PID is UFD.
\end{theorem}

\begin{proof}
  Let \(R\) be a PID. The proof consists of two parts: first show the existence of factorisation in \(R\) (the proof thereof generalises to all Noetherian rings), and then show its uniqueness.
  \begin{enumerate}
  \item Suppose for contradiction there exists \(a \in R\) which cannot be written as a product of irreducibles. then \(a\) is not irreducible so \(a = a_1b_1\) with \(a_1, b_1\) not units and one of then cannot be written as a product of irreducibles (otherwise \(a\) would be), say it is \(a_1\). Hence \(a_1 = a_2b_2\) where \(a_2, b_2\) are not units and wlog \(a_2\) could not be written as a product of irreducibles. Continue this way. Now
    \[
      (a) \subseteq (a_1) \subseteq (a_2) \subseteq \cdots
    \]
    is an ascending chain so by ACC we must have \((a_N) = (a_{N + 1}\) for some \(N\), i.e.\ \(a_N = a_{N + 1}b_{N + 1}\) with \(b_{N + 1}\) a unit.
  \item Let \(p_1 \cdots p_n = q_1 \cdots q_m\) be factorisations into irreducibles. Thus \(p_1 \divides q_1 \cdots q_n\). In a PID irreducibles are primes so \(p_1 \divides q_i\) for some \(i\). After reordering \(p_1 \divides q_1\) so \(q_1 = p_1 \cdot a\). As \(q_1\) is irreducible, \(a\) is a unit so \(p_1\) and \(q_1\) are associates. Now \(p_1(p_2 \cdots p_n - aq_2 \cdots q_m) = 0\). As \(R\) is an integral domain \(p_2 \cdots p_n = (aq_2) \cdots q_m\). Continue this way, we get \(n \leq m\) and \(1 = \text{(unit)} \cdot q_{n + 1} \cdots q_m\). Thus \(q_{n + 1}, \dots q_m\) are units. Absrud. Thus \(n = m\) and \(p_i\)'s and \(q_i\)'s are associates up to reordering.
  \end{enumerate}
\end{proof}

\begin{definition}[gcd, lcm]\leavevmode
  \begin{itemize}
  \item \(d\) is a \emph{greatest common divisor} (gcd) of \(a_1, \dots, a_n\), written \(d = \gcd(a_1, \dots, a_n)\) if \(d \divides a_i\) for all \(i\) and if \(d' \divides a_i\) for all \(i\) then \(d' \divides d\).
  \item \(d\) is a \emph{lowest common multiple} (lcm) of \(a_1, \dots, a_n\), written \(d = \lcm(a_1, \dots, a_n)\) if \(a_i \divides m\) for all \(i\) and if \(a_i \divides d'\) for all \(i\) then \(d \divides d'\).
    \end{itemize}
\end{definition}

It is easy to see that if gcd or lcm exists then it is unique up to associates.

\begin{proposition}
  If \(R\) is a UFD then gcd's and lcm's exist.
\end{proposition}

\begin{proof}
  Write each \(a_i\) as a product
  \[
    a_i = u_i \cdot \prod_j p_j^{n_ij}
  \]
  where \(u_i\) is a unit and \(p_j\)'s are (the same) irreducibles which are not associates of each other. Set
  \[
    d = \prod_j p_j^{m_j}
  \]
  where \(m_j = \min_i n_{ij}\). Certainly \(d \divides a_i\) for all \(i\). If \(d' \divides a_i\) for all \(i\) then write
  \[
    d' = u \cdot \prod_j p_j^{t_j}
  \]
  for some \(t_j\). As \(d' \divides a\) we must have \(t_j \leq n_{ij}\) for all \(i\) so \(t_j \leq \min_i n_{ij} = m_j\) for all \(j\). Thus \(d' \divides d\).

  The argument for lcm is similar.
\end{proof}

\subsection{Factoriation of polynomial rings}

For a field \(\F\) we have \(\F[X]\) is a ED, so also a PID and UFD so
\begin{enumerate}
\item any \(I \ideal \F[X]\) is principal, i.e.\ \(I = (f)\) for some \(f\);
\item \(f \in \F[X]\) is irreducible if and only if \(f\) is prime;
\item let \(f \in \F[X]\) be irreducible and \((f) \subseteq J \ideal \F[X]\) be a larger ideal. Then \(J = (g)\) for some \(g \in \F[X]\) so \((f) \subseteq (g)\), i.e.\ \(g \divides f\). But \(f\) is irreducible so either \(g\) is a unit, then \((g) = \F[X]\), or \(g\) is an associate of \(f\), so \((g) = (f)\). Thus \((f)\) is maximal;
\item \((f) \text{prime} \Rightarrow f \text{prime} \Rightarrow f \text{irreducible} \Rightarrow (f) \text{maximal}\) so primes ideals of \(\F[X]\) are precisely the maximal ideals;
\item \(f \in \F[X]\) is irreducible if and only if \((f)\) is maximal, if and only if \(\F[X]/(f)\) is a field.
\end{enumerate}

\begin{definition}[Content]\index{content}
  Let \(R\) be a UFD and
  \[
    f = a_0 + a_1X + \dots a_nX^n \in R[X]
  \]
  with \(a_n \neq 0\). The \emph{content} is
  \[
    c(f) = \gcd(a_0, \dots, a_n).
  \]
\end{definition}

\begin{definition}[Primitive]\index{primitive}
  \(f\) above is \emph{primitive} if \(c(f)\) is a unit, i.e.\ \(a_i\)'s are coprime.
\end{definition}

\begin{theorem}[Gauss' Lemma]\index{Gauss' Lemma}
  \label{thm:Gauss' lemma}
  Let \(R\) be a UFD and \(F\) be its field of fractions. Let \(f \in R[X]\) be primitive. Then \(f\) is irreducible in \(R[X]\) if and only if \(f\) is irreducible in \(F[X]\).
\end{theorem}

\begin{eg}
  Let \(f = 1 + X + X^3 \in \Z[X]\). \(c(f) = 1\) so \(f\) is primitive. Suppose \(f = gh\), a product of reducibles in \(\Z[X]\). As \(f\) is primitive, neither \(g\) nor \(h\) can be a constant polynomial so they have degree \(1\) and \(2\) respectively. Wlog suppose \(g = b_0 + b_1X, h = c_0 + c_1X + c_2X^2 \in \Z[X]\). Expanding out and equating the coefficients, \(b_0c_0 = 1, b_1c_2 = 1\) so \(b_0b_1 = \pm 1\). Thus \(g\) has one of \(\pm 1\) as a root and so does \(f\). But it doesn't so such factorisation does not exist. Thus \(\Q[X]/(1 + X + X^3)\) is a field.
\end{eg}

\begin{lemma}
  Let \(R\) be a UFD. If \(f, g \in F[X]\) are primitives then so is \(fg\).
\end{lemma}

\begin{proof}
  Let
  \begin{align*}
    f &= a_0 + a_1X + \dots + a_nX^n \\
    g &= b_0 + b_1X + \dots + b_mX^m
  \end{align*}
  with \(a_n, b_m \neq 0\). If \(fg\) is not primitive, then \(c(fg)\) is not a unit so there is an irreducible \(p \divides c(fg)\). As \(c(f)\) and \(c(g)\) are units, we have
  \begin{align*}
    & p \divides a_0, p \divides a_1, \dots, p \divides a_{k - 1}, p \ndivides a_k \\
    & q \divides b_0, q \divides b_1, \dots, q \divides b_{\ell - 1}, q \ndivides b_\ell
  \end{align*}
  The coefficients of \(X^{k + \ell}\) if \(fg\) is
  \[
    \sum_{i + j = k + \ell} a_ib_j = \cdots + a_{k + 1}b_{\ell - 1} + a_kb_\ell + a_{k - 1}b_{\ell + 1} + \cdots
  \]
  where LHS is divisible by \(p\) so \(p \divides a_kb_\ell\) but \(p\) is prime so \(p \divides a_k\) or \(p \divides b_\ell\). Absurd. Thus \(c(fg)\) is a unit and \(fg\) is a primitive.
\end{proof}

\begin{corollary}
  Let \(R\) be a UFD. Then \(c(fg)\) is an associate of \(c(f)c(g)\).
\end{corollary}

\begin{proof}
  Let \(f = c(f) \cdot f_1, g = c(f) \cdot g_1\) with \(f_1, g_1\) primitive. Then
  \[
    fg = c(f)c(g) \cdot (f_1g_1)
  \]
  where \(f_1g_1\) is primitive by the lemma above. Thus \(c(f)c(g)\) is a gcd of the coefficients of \(fg\).
\end{proof}

\begin{proof}[Proof of \nameref{thm:Gauss' lemma}]
  Let \(f \in R[X]\) be primitive. If \(f = gh\) is reducible in \(R[X]\) then \(g, h\) cannot be constants as otherwise \(f\) would not be primitive. Thus \(g, h \in F[X]\) are not units so \(f \in F[X]\) is reducible.

  Suppose instead \(f\) is reducible in \(F[X]\), say \(f = gh\). We can ``clear the denominators'': find \(a, b \in R\) such that \(ag, bh \in R[X]\), then
  \[
    abf = (ag) \cdot (bh) \in R[X].
  \]
  Take contents, \(ag = c(ag) \cdot g_1, bh = c(bh) \cdot h_1\) with \(g_1, h_1\) primitive. Then
  \[
    ab \cdot f = c(ag)c(bf) \underbrace{g_1h_1}_{\text{primitive}}
  \]
  so \(ab\) is an associate of \(c(ag)c(bh)\) so \(c(ag)c(bh) = uab\) where \(u\) is a unit. Thus \(abf = uabg_1h_1\) and cancel to get \(f = (ug_1)h_1\) is reducible in \(R[X]\).
\end{proof}

\begin{definition}
  Let \(R\) be a UFD and \(g \in R[X]\) primitive. Let \(I = (g) \ideal F[X]\) where \(F\) is the field of fraction of \(R\) and \(J = (g) \ideal R[X]\). Then
  \[
    J = I \subseteq R[X].
  \]
  Equivalently, if \(f \in R[X]\) is divisible by a primitive \(g \in F[X]\) then it is divisible by \(g\) in \(R[X]\).
\end{definition}

\begin{proof}
  The \(\subseteq\) inclusion is clear. To show the other direction, let \(f = gh \in F[X]\). Clear denominators by find \(b \in R\) such that \(bh \in R[X]\) so \(bf = (bg) \cdot g \in R[X]\). Thus \(bf = c(bh)h_1g\) with \(h_1\) primitive. Now it follows that \(b \divides c(bh)\), as \(bc(f) = c(bh)\), so we get \(f = c(f) \cdot h_1g \in R[X]\). \(g\) divides \(f\) in \(R[X]\).
\end{proof}

\begin{theorem}
  If \(R\) is a UFD then so is \(R[X]\).
\end{theorem}

\begin{proof}
  To show existence, let \(f \in R[X]\) and write \(f = c(f) \cdot f_1\) with \(f_1\) primitive. As \(R\) is a UFD we can write \(c(f) = p_1 \cdots p_n \in R\)with \(p_i\) irrecucible in \(R\), so also irreducible in \(R[X]\). If \(f_1\) is not irreducible, write \(f_1 = f_2 \cdot f_3\)with \(f_2, f_3\) not units and are primitive. Thus \(f_2, f_3\) are not constants so have degree smaller than that of \(f_1\). If \(f_2\) or \(f_3\) is irreducible, factor again. The degree continues to strictly decrease and this stops eventually. So
  \[
    f = p_1 \cdots p_n q_1 \cdots q_m,
  \]
  a product of irreducibles.

  Now for the uniqueness part, note \(p_1 \cdots p_n = c(f) \in R\), a UFD so the \(p_i\)'s are unique up to reordering and associates. Thus it suffices to show if \(q_1 \cdots q_m = r_1 \cdots r_\ell\) as products of primitive polynomials then \(m = \ell\) and the \(q_i\)'s and \(r_i\)'s are the same up to reordering and associates. Since \emph{\(F[X]\) is a PID and thus UFD}, \(q_1 \cdots q_m = r_1 \cdots r_\ell \in R[X] \subseteq F[X]\) implise that \(m = \ell\) and \(q_i\)'s equal to \(r_i\)'s in \(F[X]\). If \(q_1\) is an associate of \(r_1\) in \(F[X]\) then \(q_1 = ur_1\) for some unit \(u \in F[X]\). Then \(u \in F\) is a unit, write \(u = \frac{a}{b}\). Get \(bq_1 = ar_1 \in R[X]\). Taking contents, it follows that \(b\) is an associate of \(a\) in \(R\). Cancel to get \(q_1 = ar_1 \in R[X]\). Repeat for \(q_i\)'s and \(r_i\)'s.
\end{proof}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(\Z[X]\) is a UFD.
  \item If \(R\) is a UFD then so is \(R[X_1, \dots, X_n]\).
  \end{enumerate}
\end{eg}

\begin{proposition}[Eisenstein's criterion]\index{Einsenstein's criterion}
  Let \(R\) be a UFD and \(f = a_0 + a_1X + \dots + a_nX^n \in R[X]\) with \(a_n \neq 0\) be primitive. Suppose \(p \in R\) is an irreducible such that
  \begin{itemize}
  \item \(p \ndivides a_n\),
  \item \(p \divides a_i\) for \(i = 0, 1, \dots, n - 1\),
  \item \(p^2 \ndivides a_0\)
  \end{itemize}
  then \(f\) is irreducible in \(R[X]\), so also in \(F[X]\).
\end{proposition}

\begin{proof}
  Let \(f = gh\) with
  \begin{align*}
    g &= r_0 + r_1X + \dots + r_kX^k \\
    h &= s_0 + s_1X + \dots + r_\ell X^\ell
  \end{align*}
  with \(r_k, s_\ell \neq 0\). Then \(k + \ell = n\) and \(a_n = r_ks_\ell\). As \(p \ndivides a_n\), \(p \ndivides r_k\) and \(p \ndivides s_\ell\). Since \(p \divides a_0\) and \(p^2 \ndivides a_0\), suppose wlog that \(p \divides r_0, p \ndivides s_0\). Suppose \(p \divides r_0, p \divides r_1, p \divides r_{j - 1}, p \ndivides r_j\). Then
  \[
    a_j = s_0r_j + s_1r_{j - 1} + s_2r_{j - 2} + \dots + s_j r_0
  \]
  so \(p \ndivides a_j\) and by \(2\) \(j = n\). Thus \(\deg g = n\) and \(h\) is a constant. As \(f\) (and hence \(g\) and \(h\)) is a primitive \(h\) is a unit.
\end{proof}

\begin{eg}
  For \(p \in \Z\) prime, \(f = X^m - p \in \Z[X]\) is irreducible in \(\Z[X]\) and \(\Q[X]\) so \(f\) does not have a root in \(\Q\). In particular, this shows that \(\sqrt[m]{p} \notin \Q)\). This will be important in IID Galois Theory.
\end{eg}

\begin{eg}
  For \(p \in \Z\) prime, let
  \[
    f = X^{p - 1} + X^{p - 1} + \dots + X + 1 \in \Z[X].
  \]
  Note that \((X - 1)f = X^p - 1\). Consider the ring isomorphism
  \begin{align*}
    \varphi: \Z[X] &\to \Z[X] \\
    X &\mapsto X + 1
  \end{align*}
  Then
  \[
    \varphi(f) = \underbrace{X^{p - 1}}_{p \ndivides} + \underbrace{\binom{p}{1}}_{p \divides} Y^{p - 1} + \dots + \underbrace{\binom{p}{p - 2}}_{p \divides} Y + \underbrace{\binom{p}{p - 1}}_{= p}
  \]
  so Einsenstein's criterion says that \(\varphi(f)\) is irreducible, so is \(f\).
\end{eg}

\begin{remark}
  The hypothesis of Einsenstein's criterion depends on the ambient ring while the conclusiohn does not. As a heuristics, we can apply ring isomorphisms to reduce the problem sometimes.
\end{remark}

\subsection{Gaussian integers}

Recall
\[
  \Z[i] = \{a + bi: a, b \in \Z\} \leq \C.
\]
It has a norm \(N(a + ib) = a^2 + b^2\), making it a ED, and thus a PID and UFD. In particular primes and irreducibles agree. The units in \(\Z[i]\) are \(\pm 1, \pm i\) as they are the only elements of norm \(1\). In addition, we have the following observations:
\begin{enumerate}
\item \(2 = (1 + i)(1 - i)\) is \emph{not} a prime.
\item \(N(3) = 9\). If \(3 = xy\) then \(9 = N(x)N(y)\). Either \(x\) or \(y\) is a unit or \(N(x) = N(y) = 3\). But the norm is never \(3\) so \(3\) \emph{is} a prime.
\item \(5 = (2 + i)(2 - i)\) is \emph{not} a prime.
\item \(7\) \emph{is} a prime.
\end{enumerate}

\begin{proposition}
  A prime \(p \in \Z\) is a prime in \(\Z[i]\) if and only if \(p \neq a^2 + b^2\) for \(a, b \in \Z\).
\end{proposition}

\begin{proof}\leavevmode
  \begin{itemize}
  \item \(\Rightarrow\): If \(p = a^2 + b^2 = (a + ib)(a - ib)\), it is reducible and thus not a prime.
  \item \(\Leftarrow\): Note \(N(p) = p^2\). If \(p\) factors as \(uv\) with \(u, v\) not units then \(N(u) = N(v) = p\). Write \(u = a + ib\), we have \(p = N(u) = a^2 + b^2\).
  \end{itemize}
\end{proof}

Now we prove a lemma regarding the multiplicative group of a finite field:

\begin{lemma}
  Let \(\F_p = \Z/p\Z\) be a field with \(p\) elements and \(p\) prime. Then \(\F_p^\times = \F_p \setminus \{0\}\) is a group under multiplication and is isomorphic to \(C_{p - 1}\).
\end{lemma}

\begin{proof}
  Certainly \(\F_p^\times\) is an abelian group of order \(p - 1\). By the classification theorem of finite abelain groups, \(\F_p^\times\) is either cyclic or contains \(C_m \times C_m\) as a subgroup for some \(m \geq 2\).

  Suppose \(C_m \times C_m \leq \F_p^\times\). Consider \(f = X^m - 1 \in \F_p[X]\). Each element of \(C_m \times C_m \leq \F_p^\times \subseteq \F_p\) gives a root of \(f\) so it has at least \(m^2\) distinct roots. But as \(\F_p[X]\) is a ED and thus UFD, it can be factorised into at most \(m\) unique irreducibles. Thus it has at most \(m\) distinct roots in \(\F_p\). Thus there is no subgroup \(C_m \times C_m\) in \(\F_p^\times\) and \(\F_p^\times\) is cyclic.
\end{proof}

\begin{proposition}
  The primes in \(\Z[i]\) are, up to associates,
  \begin{enumerate}
  \item prime \(p \in \Z\) with \(p = 3 \mod 4\),
  \item \(z \in \Z[i]\) such that \(N(z) = p\) where \(p\) is a prime and \(p = 2\), or \(p = 1 \mod 4\).
  \end{enumerate}
\end{proposition}

\begin{proof}
  First show what we claimed are indeed primes, i.e.\ irreducibles:
  \begin{enumerate}
  \item if \(p = 3 \mod 4\), \(p \neq a^2 + b^2\) so \(p \in \Z[i]\) is a prime.
  \item suppose \(z = uv\) then \(N(u)N(v) = p\) so \(N(u)\) or \(N(v) = 1\). \(u\) or \(v\) is a unit so \(z\) is irreducible.
  \end{enumerate}

  Now let \(z \in \Z[i]\) be a prime. Then \(\conj z\) is irreducible too so \(N(z) = z\conj z\) is a factorisation of \(N(z)\) into irreducibles in \(\Z[i]\). Let \(p \in \Z\) be a prime dividing \(N(z)\).
  \begin{itemize}
  \item Case 1: \(p = 3 \mod 4\). Then \(p\) is irreducible in \(\Z[i]\). As \(p \divides N(z)\), \(p \divides z\) or \(p \divides \conj z\). Wlog \(p \divides z\). As \(p\) and \(z\) are both irreducibles, they are associates.
  \item Case 2: \(p = 2\), or \(p = 1 \mod 4\). If \(p = 1 \mod 4\), consider \(\F_p^\times \cong C_{p - 1} = C_{4k}\). It has a unique element of order \(2\), namely \([-1]\). As \(4 \divides p - 1\), there is also an element \([a] \in \F_p^\times\) order \(4\). Then \([a^2]\) has order \(2\) and thus \(a^2 = -1 \mod p\). Thus there exists \(b \in \Z\) such that \(a^2 + 1 = pb\), \(p \divides (a + i)(a - i)\).

    If \(p = 2\) then \(p \divides (1 + i)(1 - i)\).

    But \(p \ndivides a + i, p \ndivides a - i\) so \(p \in \Z[i]\) is not prime and thus not irreducible. Hence \(p = z_1z_2\) with \(z_1, z_2\) not units. \(p^2 = N(p) = N(z_1)N(z_2)\), \(N(z_1) = N(z_2) = p\) so \(p = z_1\conj{z_1} = z_2\conj{z_2}\). But also \(p = z_1z_2\) so \(z_2 = \conj z_1\).

    We choose \(p\) such that \(p \divides N(z)\) so \(z_1\conj{z_1} \divides z \conj{z}\) and \(z\) is irreducible so \(z_1 \divides z\) or \(z_1 \divides \conj z\). \(z_1\) or \(\conj{z_1}\) is an associate of \(z\). \(N(z) = N(z_1)\) or \(N(\conj{z_1} = p\).
  \end{itemize}
\end{proof}

\begin{corollary}
  An integer \(n \in \Z > 0\) can be written as \(a^2 + b^2\), \(a, b \in \Z\) if and only if when we write \(n = p_1^{n_1}p_2^{n_2}\cdots p_k^{n_k}\) with \(p_i\)'s distinct, if \(p_i = 3 \mod 4\) then \(n_i\)'s are distinct.
\end{corollary}

\begin{proof}
  Let \(n = a^2 + b^2 = (a + ib)(a - ib) = N(a + ib)\). Let \(z = a + ib\). Then \(z = \alpha_1\cdots \alpha_s\) as a product of irreducibles (i.e.\ primes) in \(\Z[i]\). Then \(n = N(\alpha_1)\cdots N(\alpha_s)\). Each \(\alpha_i\) is either a prime \(p\) congruent to \(3\) mod \(4\) so \(N(\alpha_i) = p^2\), or has \(N(\alpha_i) = q\), a prime not congruent to \(3\) mod \(4\). Thus \(n\) can be written as a product of primes as claimed.

  Conversely, suppose \(n = p_1^{n_1} \cdots p_k^{n_k}\) with \(n_i\) even if \(p = 3 \mod 4\). For each \(i\) if \(p_i = 3 \mod 4\) then \(N(p_i) = p_i^2\), \(p_i^{n_i} = N(p_i^{n_i/2})\). As \(n\) is a product of norms of Gaussian integers, it is the norm of a Gaussian integer so is a sum of squares.
\end{proof}

\begin{eg}
  In how many ways can \(65\) be written as a sum of two squares?
  
  \(65 = 5 \times 13\), \(5 = 1^2 + 2^2 = (2 + i) \conj{(2 + i)}\), \(13 = 2^2 + 3^2 = (2 + 3i)\conj{(2 + 3i)}\) so
    \begin{align*}
      65 &= (2 + i)(2 + 3i)\conj{(2 + i)}\conj{(2 + 3i)} \\
         &= N((2 + i)(2 + 3i)) = N(1 + 8i) = 1^2 + 8^2 \\
         &= N((2 + i)(2 - 3i)) = N(7 - 4i) = 7^2 + 4^2
    \end{align*}
\end{eg}

\begin{ex}[Challenge]
  Find conditions such that \(n = a^2 + 2b^2\) and \(a^2 + 3b^2\) in \(\Z[\sqrt{-2}]\) and \(\Z[\sqrt{-3}]\).
\end{ex}

\subsection{Algebraic integers}

\begin{definition}[Algebraic integer]\index{algebraic integer}
  A complex number \(\alpha \in \C\) is an \emph{algebraic integer} if it is a root oof a monic polynomial with integer coefficients.
\end{definition}

If \(\alpha\) is an algebraic integer, let \(\Z[\alpha] \leq \C\) be the smallest subring containing \(\alpha\), i.e.\ it is the image of the ring homomorphism
\begin{align*}
  \varphi: \Z[X] &\to \C \\
  X &\mapsto \alpha
\end{align*}
Thus by 1st Isomorphism Theorem \(\Z[\alpha] \cong \Z[X]/I\) where \(I = \ker \varphi\).

\begin{proposition}[Minimal polynomial]\index{minimal polynomial}
  If \(\alpha\) is an algebraic integer then \(I = \ker \varphi\) is principal and is generated by an irreducible \(f_\alpha \in \Z[X]\), the \emph{minimal polynomial} of \(\alpha\).
\end{proposition}

\begin{proof}
  As \(\alpha\) is an algebraic integer, it is a root of some \(f \in \Z[X]\) so \(f \in I\). Let \(f_\alpha \in I\) be a polynomial of minimal degree, which we may assume is positive. We want to show that
  \begin{enumerate}
  \item \(I = (f_\alpha)\),
  \item \(f_\alpha\) is irreducible.
  \end{enumerate}

  \begin{enumerate}
  \item Let \(h \in I\). Now \(\Q[X]\) is a ED so we can write \(h = qf_\alpha + r \in \Q[X]\) with \(r = 0\) or \(\deg r < \deg f_\alpha\). Clearing denominators, there is an \(a \in \Z\) such that \(aq, qr \in \Z[X]\), so \(ah = (aq) f_\alpha + ar \in \Z[X]\). \(\alpha\) is a root of \(h\) and of \(f_\alpha\) so is also a root of \(ar\). As \(f_\alpha\) has minimal degree among polynomials with \(\alpha\) as a root, we must have \(ar = 0\). Thus \(ah = (aq) f_\alpha\). Now \(c(ah) = a \cdot c(h)\), \(c((aq)f_\alpha) = c(aq)\) so \(\alpha \divides c(aq)\) so \(aq = a\conj q\) with \(\conj q \in \Z[X]\). Cancelling shows that \(\conj q = q\). Thus \(h = \conj q f_\alpha\) so \(h \in (f_\alpha)\).
  \item \(\Z[X]/(f_\alpha) \cong \Z[\alpha] \leq \C\). As \(\C\) is an integral domain, so is \(\Z[\alpha]\). Thus \((f_\alpha)\) is prime. Thus \(f_\alpha \in \Z[X]\) is a prime and hence irreducible.
  \end{enumerate}
\end{proof}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(\alpha = i\), \(f_\alpha = X^2 + 1\).
  \item \(\alpha = \sqrt 2\), \(f_\alpha = X^2 - 2\).
  \item \(\alpha = \frac{1 + \sqrt{-3}}{2}\), \(f_\alpha = X^2 - X + 1\).
  \item Less trivially, for \(d \in \Z\), \(X^5 - X + d\) has a unique real root \(\alpha\). This \(\alpha\) cannot be constructed using \((Z, +, \times, \sqrt{\phantom{x}})\). c.f.\ IID Galois Theory.
  \end{enumerate}
\end{eg}

\begin{lemma}
  If \(\alpha\) is an algebraic integer and \(\alpha \in \Q\) then \(\alpha \in \Z\).
\end{lemma}

\begin{proof}
  \(f_\alpha \in \Z[X]\) is irreducible and primitive. By \nameref{thm:Gauss' lemma} \(f_\alpha \in \Q[X]\) is also irreducible. But if \(\alpha \in \Q\), \(X - \alpha \divides f_\alpha\) in \(\Q[X]\) so \(f_\alpha = X - a\). But \(f_\alpha \in \Z[X]\) so \(\alpha \in \Z\).
\end{proof}

\subsection{Hilbert Basis Theorem}

Recall that a ring \(R\) satisfies the ascending chain condition (ACC) if whenever
\[
  I_1 \subseteq I_2 \subseteq \cdots
\]
ais an increasing sequence of ideals then there exists \(N \in \N\) such that for all \(n \geq N\), \(I_n = I_{n + 1}\).

A ring satisfying ACC is called \emph{Noetherian}.

We have shown that a PID is Noetherian.

\begin{lemma}
  A ring \(R\) is Noetherian if and only if every ideal of \(R\) if finitely generated.
\end{lemma}

\begin{proof}\leavevmode
  \begin{itemize}
  \item \(\Leftarrow\): Let \(I_1 \subseteq I_2 \subseteq \cdots\) be an ascending chain of ideal and \(I = \bigcup_n I_n\). Then \(I = (a_1, \dots, a_n)\) for some \(a_i \in R\). For all \(i\) there exists \(n_i \in \N\) such that \(a_i \in I_{n_i}\) so
    \[
      (a_1, \dots, a_n) \subseteq I_{\max_i n_i} \subseteq I.
    \]
    Take \(N = \max_i n_i\) and the result follows.
  \item Suppose \(R\) is Noetherian and \(I \ideal R\). Choose \(a_1 \in I\). If \(I = (a_1)\) then done, so suppose not. Then choose \(a_2 \in I \setminus (a_1)\). If \(I = (a_1, a_2)\) then done, so suppose not. If we are never finished by this process then we get
    \[
      (a_1) \subseteq (a_1, a_2) \subseteq \cdots
    \]
    which is impossible as \(R\) is Noetherian. Thus \(I = (a_1, \dots, a_n)\) for some \(n\).
  \end{itemize}
\end{proof}

\begin{theorem}[Hilbert Basis Theorem]\index{Hilbert Basis Theorem}
  If \(R\) is Noetherian then so is \(R[X]\).
\end{theorem}

\begin{proof}
  Let \(J \ideal R[X]\). Let \(f_1 \in J\) be of minimal minimal degree. If \(J = (f_1)\) then done, else choose \(f_2 \in J \setminus (f_1)\) of minimal degree. Suppose we have
  \[
    (f_1) \subseteq (f_1, f_2) \subseteq \cdots 
  \]
  as an ascending chain of non-stabilising ideas. Let \(a_i \in R\) be the coefficient of the largest power of \(X\) in \(f_i\) and consider
  \[
    (a_1) \subseteq (a_1, a_2) \subseteq \cdots \ideal R.
  \]
  As \(R\) is Noetherian this chain stabilises, i.e.\ there exists \(m \in \N\) such that all \(a_i\)'s lie in \((a_1, \dots, a_m)\). In particular, \(a_{m + 1} = \sum_{i = 1}^m a_ib_i\) for some \(b_i \in R\). Let
  \[
    g = \sum_{i = 1}^m b_if_iX^{\deg f_{m + 1} - \deg f_i}
  \]
  which has leading term
  \[
    \sum_{i = 1}^m b_ia_iX^{\deg f_{m + 1}} = a_{m + 1}X^{\deg f_{m + 1}}.
  \]
  Thus \(\deg f_{m + 1} - g < \deg f_{m + 1}\). But \(g \in (f_1, \dots, f_m)\) but \(f_{m + 1} \notin (f_1, \dots, f_m)\) so \(f_{m + 1} - g \notin (f_1, \dots, f_m)\). This contradicts the minimality of the degree of \(f_{m + 1}\).
\end{proof}

\begin{eg}
  \(\Z[X_1, \dots, X_n]\), \(\F[X_1, \dots, X_n]\) are Noetherian.
\end{eg}

\begin{lemma}
  A quotient of a Noetherian ring is Noetherian.
\end{lemma}

\begin{corollary}
  Any ring which may be generated by finitely many elements is Noetherian.
\end{corollary}

\begin{eg}[Non-example]
  \(\Z[X_1, X_2, \dots]\) is \emph{not} Noetherian since
  \[
    (X_1) \subseteq (X_1, X_2) \subseteq \cdots
  \]
  is an non-stabilising ascending chain.
\end{eg}

\begin{remark}
  Supose \(\mathcal F \subseteq \F[X_1, \dots, X_n]\) is a set of polynomials. \(\alpha = (a_1, \dots, a_n) \in \F^n\) is a solution of \(\mathcal F\) if and only if \(\mathcal F\) is contained in the kernel of
  \begin{align*}
    \varphi_a: \F[X_1, \dots, X_n] &\to \F \\
    X_i &\mapsto a_i
  \end{align*}
  As \(\F[X_1, \dots, X_n]\) is Noetherian, \((\mathcal F) = (f_1, \dots, f_m)\) for finitely many \(f_i\)'s. \(\alpha\) is a simultaneous solution to \(\mathcal F\) if and only if \(\ker \varphi_\alpha \supseteq (\mathcal F) = (f_1, \dots, f_m)\), if and only if \(\alpha\) is a simultaneous solution to \(f_1, \dots, f_n\). That is to say, we only have to consider a finite family of polynomials of which \(\alpha\) is a root. This is important in algebraic geometry.
\end{remark}

\section{Modules}

\subsection{Definitions}

\begin{definition}[Module]\index{module}
  Let \(R\) be a commutative ring. A quadruple \((M, +, 0_M, \cdot)\) is an \emph{\(R\)-module} if \((M, +, 0_M)\) is an abelian group and the operation \(- \cdot -: R \times M \to M\) satisfies
  \begin{itemize}
  \item \((r_1 + r_2) \cdot m = r_1 \cdot m + r_2 \cdot m\),
  \item \(r \cdot (m_1 + m_2) = r \cdot m_1 + r \cdot m_2\),
  \item \(r_2 \cdot (r_1 \cdot m) = (r_2r_2) \cdot m\),
  \item \(1_R \cdot m = m\).
  \end{itemize}
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item If \(R = \F\) is a field then an \(\R\)-module is precisely an \(\F\)-vector space.
  \item For any ring \(R\), \(R^n = \underbrace{R \times \dots \times R}_{n \text{ times}}\) is an \(\R\)-module via
    \[
      r \cdot (r_1, \dots, r_n) = (rr_1, \dots, rr_n).
    \]
    In particular for \(n = 1\), \(R\) is an \(R\)-module.
  \item If \(I \ideal R\) then \(I\) is an \(R\)-module via
    \[
      r \cdot a = ra \in I.
    \]
    Also \(R/I\) is an \(\R\)-module via
    \[
      r \cdot (r_1 + I) = rr_1 + I \in R/I.
    \]
  \item For \(R = \Z\), an \(\R\)-module is precisely an abelian group. This is because the axiom for \(\cdot\) says that
    \begin{align*}
      - \cdot -: \Z \times M &\to M \\
      (n, m) &\mapsto
               \begin{cases}
                 \underbrace{m + \dots + m}_{n \text{ times}} & n \geq 0 \\
                 -(\underbrace{m + \dots + m}_{n \text{ times}}) & n < 0 \\
               \end{cases}
    \end{align*}
    so \(\cdot\) is uniquely determined by \(M\).
  \item Let \(\F\) be a field and \(V\) be a vector space over \(\F\). Let \(\alpha: V \to V\) be a linear map. Then we can make \(V\) into an \(\F[X]\)-module via
    \begin{align*}
      \F[X] \times V &\to V \\
      (f, v) &\mapsto f(\alpha)(v)
    \end{align*}
    Different \(\alpha\)'s make \(V\) into different \(\F[x]\)-modules.
  \item Restriction of scalars: if \(\varphi: R \to S\) is a ring homomorphism and \(M\) is an \(S\)-module, then \(M\) becomes an \(R\)-modules via
    \[
      r \cdot_R m = \varphi(r) \cdot_s m.
    \]
  \end{enumerate}
\end{eg}

\begin{definition}[Submodule]\index{module!submodule}
  If \(M\) is an \(\R\)-module, \(N \subseteq M\) is a \emph{submodule} if \(N\) is a subgroup of \((M, +, 0_M)\) and for any \(n \in N, r \in R\), \(r \cdot n \in N\). Write \(N \leq M\).
\end{definition}

\begin{eg}
  A subset of \(R\) is a submodule if and only if it is an ideal.
\end{eg}

\begin{definition}[Quotient module]\index{module!quotient}
  If \(N \leq M\) is a submodule, the \emph{quotient module} \(M/N\) is the set of \(N\)-cosets in \((M, +, 0_M)\), i.e. the quotient abelian group with
  \[
    r \cdot (m + N) = r \cdot m + N.
  \]
\end{definition}

\begin{definition}[Homomorphism]\index{module!homomorphism}
  A function \(f: M \to N\) is an \emph{\(\R\)-module homomorphism} if it is a homomorphism of abelian groups and \(f(r \cdot m) = r \cdot f(m)\).
\end{definition}

\begin{eg}
  If \(R = \F\) is a field and \(V\) and \(W\) are \(\F\)-modules (i.e. \(\F\)-vector spaces), then a map is an \(\F\)-module homomorphism if and only if it is an \(\F\)-linear map.
\end{eg}

\begin{theorem}[1st Isomorphism Theorem]\index{isomorphism theorem}
  If \(f: M \to N\) is an \(R\)-module homomorphism then
  \begin{align*}
    \ker f &= \{m \in M: f(m) = 0\} \leq M \\
    \im f &= \{n \in N: n = f(m)\} \leq N
  \end{align*}
  and
  \[
    M/\ker f \cong \im f.
  \]
\end{theorem}

\begin{theorem}[2nd Isomorphism Theorem]
  Let \(A, B \leq M\) be submodules. Then
  \begin{align*}
    A + B &= \{m \in M: m = a + b, a \in A, b \in B\} \leq M \\
    A \cap B &\leq M
  \end{align*}
  and
  \[
    (A + B)/A \cong B/(A \cap B).
  \]
\end{theorem}

\begin{theorem}[3rd Isomorphism Theorem]
  Let \(N \leq L \leq M\) be a chain of submodules. Then
  \[
    \frac{M/N}{L/N} \cong M/L.
  \]
\end{theorem}

\begin{definition}[Annihilator]\index{annihilator}
  If \(M\) is an \(R\)-module and \(m \in M\), the \emph{annihilator} of \(m\) is
  \[
    \Ann(m) = \{r \in R: r \cdot m = 0_M\} \ideal R.
  \]

  The \emph{annihilator} of \(M\) is
  \[
    \Ann(M) = \bigcap_{m \in M} \Ann(m) \ideal R.
  \]
\end{definition}

\begin{definition}[Generated submodule]\index{module!submodule!generated}
  If \(M\) is an \(R\)-module and \(m \in M\), the \emph{submodule generated by \(m\)} is
  \[
    Rm = \{r \cdot m \in M: r \in R\}.
  \]
\end{definition}

\begin{note}
  Intuitively, the annihilator of an element is the stabiliser of a ring action and that of a module is the kernel. We also have
  \[
    Rm \cong R/\Ann(m).
  \]
\end{note}

\begin{definition}[Finitely generated]\index{finitely generated}
  \(M\) is \emph{finitely generated} if there are \(m_1, \dots, m_n \in M\) such that
  \[
    M = Rm_1 + \dots Rm_n = \{r_1m_1 + \dots + r_nm_r: r_i \in R\}.
  \]
\end{definition}

\begin{lemma}
  An \(R\)-module \(M\) is finitely generated if and only if there is a surjetion \(\varphi: R^n \surj M\) for some \(n\).
\end{lemma}

\begin{proof}\leavevmode
  \begin{itemize}
  \item \(\Rightarrow\): Suppose \(M = Rm_1 + \dots + Rm_n\). Define
    \begin{align*}
      \varphi: R^n &\to M \\
      (r_1, \dots, r_n) &\mapsto r_1m_1 + \dots + r_nm_m
    \end{align*}
    This is an \(R\)-module homomorphism and is surjective.
  \item \(\Leftarrow\): Let \(m_i = \varphi((0, \dots, 0, 1, 0, \dots, 0))\) with \(1\) in the \(i\)th position. Then
    \begin{align*}
      \varphi((r_1, \dots, r_n)) &= \varphi((r_1, 0, \dots, 0) + \dots + (0, \dots, 0, r_n)) \\
                                 &= \varphi((r_1, 0, \dots, 0)) + \dots + \varphi((0, \dots, 0, r_n)) \\
                                 &= r_1 \varphi((1, 0, \dots, 0)) + \dots + r_n \varphi((0, \dots, 0, 1)) \\
      &= r_1m_1 + \dots + r_nm_n
    \end{align*}
    As \(\varphi\) is surjective, \(M = Rm_1 + Rm_n\).
  \end{itemize}
\end{proof}

\begin{corollary}
  Let \(M\) be an \(R\)-module and \(N \leq M\). If \(M\) is finitely generated the so is \(M/N\).
\end{corollary}

\begin{proof}
  \[
    R^n \overset{f}{\surj} M \overset{\pi}{\surj} M/N.
  \]
\end{proof}

\begin{note}
  A module of a finitely generated \(R\)-module need \emph{not} to be finitely generated. For example,
  \[
    (X_1, X_2, \dots) \ideal \Z[X_1, X_2, \dots] = R
  \]
  is an \(R\)-module but note finitely generated, as otherwise it would be a finitely generated ideal.
\end{note}

\begin{eg}
  For \(\alpha \in \C\), \(\alpha\) is an algebraic integer if and only if \(\Z[\alpha]\) is a finitely generated \(\Z\)-module.
\end{eg}

\subsection{Direct Sums and Free Modules}

\begin{definition}[Direct sum]\index{direct sum}
  If \(M_1, \dots, M_k\) are \(R\)-modules, the \emph{direct sum} \(M_1 \oplus \dots \oplus M_k\) is the set \(M_1 \times \dots \times M_k\) with addition
  \[
    (m_1, \dots, m_k) + (m_1', \dots, m_k') = (m_1 + m_1', \dots, m_k + m_k')
  \]
  and \(R\)-module structure
  \[
    r \cdot (m_1, \dots, m_k) = (rm_1, \dots, rm_k).
  \]
\end{definition}

\begin{eg}
  \[
    R^n = \underbrace{R \oplus \dots \oplus R}_{n \text{ times}}.
  \]
\end{eg}

\begin{definition}[Independence]\index{independence}
  Let \(m_1, \dots m_k \in M\). They are \emph{independent} if
  \[
    \sum_i r_i \cdot m_i = 0
  \]
  implies that \(r_i = 0\) for all \(1 \leq i \leq k\).
\end{definition}

\begin{definition}[Free generation]
  A subset \(S \subseteq M\) \emph{generates \(M\) freely} if
    \begin{enumerate}
    \item \(S\) generates \(M\).
    \item Any function \(\psi: S \to N\) to an \(R\)-module \(N\) extends to an \(R\)-module homomorphism \(\theta: M \to N\).
    \end{enumerate}
    \[
      \begin{tikzcd}
        S \ar[r, hook] \ar[dr, "\psi"'] & R^S \ar[d, dashed, "\theta"] \\
        & N
      \end{tikzcd}
    \]
\end{definition}

\begin{note}
  We can show this extension is unique: given \(\theta_1, \theta_2: M \to N\) two extensions of \(\psi\), \(\theta_1 - \theta_2:M \to N\) is an \(R\)-module homomorphism so \(\ker(\theta_1 - \theta_2) \leq M\). But \(\theta_1, \theta_2\) both extend \(\psi\) so \(S \subseteq \ker(\theta_1 - \theta_2)\). As \(S\) generates \(M\), \(M \leq \ker(\theta_1 - \theta_2)\) so \(\theta_1 = \theta_2\).
\end{note}

An \(R\)-module which is freely generated by \(S \subseteq M\) is said to be \emph{free} and \(S\) is called a \emph{basis}

\begin{proposition}
  For a finite subset \(S = \{m_1, \dots, m_k\} \subseteq M\), TFAE:
  \begin{enumerate}
  \item \(M\) is freely generated by \(S\).
  \item \(M\) is generated by \(S\) and \(S\) is independent.
  \item Every \(m \in M\) can be written as \(r_1m_1 + \dots + r_km_k\) for some unique \(r_i \in R\).
  \end{enumerate}
\end{proposition}

\begin{proof}\leavevmode
  \begin{itemize}
  \item \(1 \Rightarrow 2\): Let \(S\) generate \(M\) freely. If \(S\) is not independent, then there is a non-trivial relation
    \[
      \sum_{i = 1}^k r_im_i = 0
    \]
    with \(r_j \neq 0\). Let
    \begin{align*}
      \psi: S &\to R \\
      m_i &\mapsto
            \begin{cases}
              0_R & i \neq j \\
              1_R & i = j
            \end{cases}
    \end{align*}
    This extends to an \(R\)-module homomorphism \(\theta: M \to R\). Then
    \[
      0 = \theta(0) = \theta \left(\sum r_im_i \right) = \sum r_i\theta(m_i) = r_j.
    \]
    Absurd. Thus \(S\) is independent.
  \item The other steps follow similarly from those in IB Linear Algebra.
  \end{itemize}
\end{proof}

\begin{eg}
  Unlike vector spaces, a minimal generating set need not to be independent. For example \(\{2, 3\} \subseteq \Z\) generates \(\Z\) but is not linear independent as \((-3) \cdot 2 + (2) \cdot 3 = 0\).
\end{eg}

However, like vector spaces, in case a module is freely generated, it is isomorphic to direct sums of copies of the ring:

\begin{lemma}
  If \(S = \{m_1, \dots, m_k\} \subseteq M\) freely generates \(M\) then
  \[
    M \cong R^k
  \]
  as an \(R\)-module.
\end{lemma}

\begin{proof}
  This is entirely analogous to vector spaces. Let
  \begin{align*}
    f: R^k &\to M \\
    (r_1, \dots, r_k) &\mapsto \sum_i r_im_i
  \end{align*}
  It is surjective as \(S\) generates \(M\) and injective as \(m_i\)'s are independent.
\end{proof}

If an \(R\)-module is generated by \(m_1, \dots, m_k\), we have seen before that there is a surjection \(f: R^k \surj M\). We define

\begin{definition}[Relation module]\index{relation module}
  The \emph{relation module} for the generators is
  \[
    \ker f \leq \R^k.
  \]
\end{definition}

As \(M \cong R^k/\ker f\), knowing \(M\) is equivalent to knowing the relation module.

\begin{definition}[Finitely presented]\index{finitely presented}
  \(M\) is \emph{finitely presented} if there is a finitely generating set \(m_1, \dots, m_k\) for which the associated relation module is finitely generated.
\end{definition}

Let \(\{n_1, \dots, n_r\} \subseteq \ker f \leq R^k\) be a set of generators. Then
\[
  n_i =
  \begin{pmatrix}
    r_{1i} \\
    r_{ri} \\
    \vdots \\
    r_{ki}
  \end{pmatrix}
\]
and \(M\) is generated by \(m_1, \dots, m_k\) subject to relations
\[
  \sum_{j = 1}^k r_{ij} m_j = 0
\]
for \(1 \leq i\leq r\).

\begin{proposition}[Invariance of Dimension]
  If \(R^n \cong R^m\) then \(n = m\).
\end{proposition}

\begin{note}
  This does not hold in general for modules over non-commutative rings.
\end{note}

\begin{proof}
  As a general strategy, let \(I \ideal R\). Then
  \[
    IM = \left\{\sum a_im_i: a_i \in I, m_i \in M \right\} \leq M
  \]
  is a submodule as
  \[
    r \cdot \sum a_im_i = \sum (ra_i)m_i \in IM.
  \]
  Thus we have a quotient \(R\)-module \(M/IM\). We can make this into an \((R/I)\)-module via
  \[
    (r + I) \cdot (m + IM) = rm + IM.
  \]

  Let \(I \ideal R\) be a maximal proper ideal (this requires Zorn's Lemma). Then \(R/I\) is a field and therefore \(R^n \cong R^m\) implies
  \begin{align*}
    R^n/IR^n &\cong R^m/IR^m \\
    (R/I)^n &\cong (R/I)^m
  \end{align*}
  This is a vector space isomorphism so \(n = m\).
\end{proof}

We have classified all finite abelian groups (well, at least we declared so), i.e.\ \(\Z\)-modules. What if we want to classify all \(R\)-modules? That is going to be the final goal we will build towards.

Recall that \(M\) is finitely generated by \(m_1, \dots, m_k\) if and only if there is a surjection \(f: R^k \surj M\). \(M\) is finitely presentely if and only \(\ker f\) is finitely generated, say \(n_1, \dots, n_\ell\). Let
\[
  n_i =
  \begin{pmatrix}
    r_{1i} \\
    r_{ri} \\
    \vdots \\
    r_{ki}
  \end{pmatrix}
\]
then such an \(R\)-module \(M\) is determined by the matrix
\[
  \begin{pmatrix}
    r_{11} & r_{12} & \cdots & r_{1\ell} \\
    r_{r1} & & & \\
    \vdots & & \ddots & \\
    r_{k1} & & & r_{k\ell}
  \end{pmatrix}
  \in \matrixring_{k, \ell}(R).
\]

\subsection{Matrices over Euclidean Domains}

For this section assume \(R\) to be a Euclidean domain and let \(\varphi: R \setminus \{0\} \to \Z_{\geq 0}\) be the Euclidean function. For \(a, b \in R\), we have shown that \(\gcd(a, b)\) exists and is unique up to associates. In addition, the Euclidean algorithm shows that \(\gcd(a, b) = ax + by\) for some \(x, y \in R\).

What follows would be very similar to what we have learned in IB Linear Algebra --- in fact identical except a single modification:

\begin{definition}[Elementary row operation]
  \emph{Elementary row operation} on an \(m \times n\) matrix \(m\) with entries in \(R\) are
  \begin{enumerate}
  \item Add \(c \in R\) times the \(i\)th row to the \(j\)th row where \(i \neq j\). This can be realised by left multiplication by \(mI + C\) where \(C\) is \(c\) in \((i,j)\)th position and \(0\) elsewhere.
  \item Swapping the \(i\)th and \(j\)th row where \(i \neq j\). Realised by left multiplication by
  \[
    \begin{pmatrix}
      1 & 0 & \cdots & & & 0 \\
      \vdots & \ddots & & & & \vdots \\
      & & 0 & & 1 & 0 \\
      0 & \cdots & 0 & \ddots & 0 & 0 \\
      & & 1 & 0 & 0 & & \\
      \vdots & &&  \ddots & \\
      0 & & \cdots & & \cdots & 0
    \end{pmatrix}
  \]
\item Multiply the \(i\)th row by a \emph{unit} \(c \in R\). Realised by left multiplication by
  \[
    \begin{pmatrix}
      1 & 0 & \cdots & & 0 \\
       & \ddots & & & \\
      \vdots & & c & & \vdots \\
       & & & \ddots & \\
      0 & \cdots & & 0 & 1
    \end{pmatrix}
  \]
  \end{enumerate}
\end{definition}

\begin{definition}[Elementary column operation]
  Defined analogously by replacing ``row'' with ``column''.
\end{definition}

Similary to IB Linear Algebra, we define an equivalence relation

\begin{definition}[Equivalence]\index{equivalence}
  \(A, B \in \matrixring_{m, n}(R)\) are \emph{equivalent} if there is a sequence of elementary row and column operations taking \(A\) to \(B\).
\end{definition}

If \(A\) and \(B\) are equivalent then there are invertible square matrices \(P\) and \(Q\) such that
\[
  B = QAP^{-1}.
\]

\begin{theorem}[Smith Normal Form]\index{Simith Normal Form}
  An \(n \times m\) matrix over a Euclidean domain \(R\) is equivalent to
  \[
    \begin{pmatrix}
      d_1 \\
      & d_2 \\
      & & \ddots \\
      & & & d_r \\
      & & & & 0 \\
      & & & & & \ddots \\
      & & & & & & 0
    \end{pmatrix}
  \]
  where the \(d_i\)'s are non-zero and
  \[
    d_1 \divides d_2 \divides \cdots \divides d_r.
  \]
\end{theorem}

\begin{proof}
  This proof is going to be algorithmic. If \(A = 0\) we are done. Otherwise there is a \(A_{ij} \neq 0\). By swapping \(1\)st and \(i\)th row, and \(1\)st and \(i\)th column we may suppose \(A_{11} \neq 0\). We want to reduct \(\varphi(A_{11})\) as much as possible. Split into three cases:
  \begin{itemize}
  \item Case 1: if there is a \(A_{1j}\) not divisible by \(A_{11}\) then have
    \[
      A_{1j} = q A_{11} + r
    \]
    with \(\varphi(r) < \varphi(A_{11})\). Add \(-q\) times the \(1\)st column to the \(j\)th. This makes the \((1,j)\)th entry \(r\). Swap \(i\)th and \(j\)th column to get \(A_{11} = r\). Thus we have \emph{stictly} decreased the \(\varphi\) value of the \((1, 1)\) entry.
  \item Case 2: if \(A_{11}\) does not divide some \(A_{i1}\), do the analogous to entries in the first column to strictly reduce \(\varphi(A_{11})\).

    As \(\varphi(A_{11})\) can only strictly decrease finitely many times, after some applications of Case 1 and 2 we can assumes \(A_{11}\) divides all the entries in the \(1\)st row and \(1\)st column. If \(A_{1j} = q A_{11}\) then we can add \(-q\) times the \(1\)st column to the \(j\)th row to make the \((i, j)\)th entry \(0\). Thus we obtain
    \[
      A =
      \begin{pmatrix}
        d & 0 \\
        0 & C
      \end{pmatrix}
    \]
  \item Case 3: if there is an entry \(c_{ij}\) of \(C\) not divisible by \(d\), write
    \[
      c_{ij} = qd + r
    \]
    where \(\varphi(r) < \varphi(d)\). Conduct the following series of elementary operations
    \begin{align*}
      &
        \begin{pmatrix}
          d & 0 & \cdots & 0 & \cdots & 0 \\
          0 \\
          \vdots \\
          0 & & & c_{ij} \\
          \vdots \\
          0
        \end{pmatrix}
      \stackrel{\text{EC } 1}{\to}
      \begin{pmatrix}
        d & 0 & \cdots & d & \cdots & 0 \\
        0 \\
        \vdots \\
        0 & & & c_{ij} \\
        \vdots \\
        0
      \end{pmatrix}
      \\
      \stackrel{\text{ER } 1}{\to}&
      \begin{pmatrix}
        d & 0 & \cdots & d & \cdots & 0 \\
        0 \\
        \vdots \\
        -qd & & & r \\
        \vdots \\
        0
      \end{pmatrix}
      \stackrel{\text{ER } 2, \text{EC } 2}{\to}
      \begin{pmatrix}
        r & * & \cdots & * \\
        * \\
        \vdots & & * \\
        *
      \end{pmatrix}
    \end{align*}
    Repeat Case 1 and 2, we finally get
    \[
      \begin{pmatrix}
        d' \\
        & C'
      \end{pmatrix}
    \]
    where \(\varphi(d') < \varphi(d)\).
  \end{itemize}

  Eventually we can suppose that \(d'\) divides every entry of \(C'\). By induction \(C'\) is equivalent to
  \[
    \begin{pmatrix}
      d_2 \\
      & d_3 \\
      & & \ddots \\
      & & & d_r \\
      & & & & 0 \\
      & & & & & \ddots \\
      & & & & & & 0
    \end{pmatrix}
  \]
  with
  \[
    d_2 \divides d_3 \divides \cdots \divides d_r
  \]
  and we must have \(d' \divides d_i\) for \(i > 1\).
\end{proof}

\begin{remark}
  The \(d_i\)'s in Smith Normal Form are unique up to associates.
\end{remark}

Certainly Smith Normal Form is nice form and the algorithm guarantees that it exists and is unique. However, the computation is too cumbersome to be useful. However, if we could prove it is invariant under matrix conjugation, we may apply some clever tricks to extract the \(d_i\)'s in Smith Normal Form without explicitly computing them.

\begin{definition}[Minor]\index{minor}
  A \(k \times k\) \emph{minor} of a matrix \(A\) is the determinant of a matrix formed by forgetting all but \(k\) rows and \(k\) columns of \(A\).
\end{definition}

\begin{definition}[Fitting ideal]\index{Fitting ideal}
  The \(k\)th \emph{Fitting ideal} of \(A\) \(\fit_k(A) \ideal R\) is the ideal generated by all \(k \times k\) minors of \(A\).
\end{definition}

Given a matrix \(A\) in Smith Normal Form as above with \(d_1 \divides \cdots \divides d_r\), the only \(k \times k\) submatrices which do not have a whole row or column \(0\) are those which keep both \(i_1\)th row and \(i_1\)th column, both \(i_2\)th row and \(i_2\)th column, etc. Therefore
\begin{align*}
  \fit_k(A) &= \left(\det
    \begin{pmatrix}
      d_{i_1} \\
      & d_{i_2} \\
      & & \ddots \\
      & & & d_{i_k}
    \end{pmatrix}
  \right) \\
            &= (d_{i_1} \cdots d_{i_k}: \text{ sequences } i_1, \dots, i_k) \\
            &= (d_1d_2 \cdots d_k)
\end{align*}
as \(d_m \divides d_{i_m}\) for all \(m\).

Therefore from the above computation \(\fit_k(A)\) and \(\fit_{k - 1}(A)\) determine \(d_k\) up to associates.

\begin{lemma}
  If \(A\) and \(B\) are equivalent matrices then \(\fit_k(A) = \fit_k(B)\) for all \(k\).
\end{lemma}

\begin{proof}
  It amounts to show that elementary operations does not change \(\fit_k(A) \ideal R\). We do the first type of row operation. Fix a \(k \times k\) submatrix \(C\) in \(A\). Recall the this row operation adds \(\lambda\) times the \(i\)th row to the \(j\)th row. Depending on \(i\) and \(j\), split into three cases:
  \begin{itemize}
  \item Case 1: if the \(j\)th row is not in \(C\) then \(C\) is unchanged, so is its determinant.
  \item Case 2: if the \(i\)th and \(j\)th rows are both in \(C\), the operation changes \(C\) by a row operation so its determinant is unchanged.
  \item Cases 3: if the \(j\)th row is in \(C\) but the \(i\)th is not, suppose wlog the \(i\)th row of \(A\) corresponding to columns of \(C\) has entries \((f_1, f_2, \dots, f_k)\). After the row operation, \(C\) is changed to \(C'\) whose \(j\)th row is
    \[
      (c_{j, 1} + \lambda f_1, c_{j, 2} + \lambda f_2, \dots, c_{j, k} + \lambda f_k).
    \]
    By expansion along the \(j\)th row,
    \[
      \det C' = \det C \pm \lambda \det D
    \]
    where \(D\) is the matrix obtained by replacing the \(j\)th row of \(C\) with \((f_1, \dots, f_k)\), which is a \(k \times k\) submatrix of \(A\) up to reordering (which is accounted for by the \(\pm\) sign), by multilinearity of \(\det\). So \(\det C' \in \fit_k(A)\) as it is a linear combination of minors. Therefore \(\fit_k(A') \subseteq \fit_k(A)\) where \(A'\) is obtained from \(A\) by this operation. As row operations are inertible, we must have equality.
  \end{itemize}

  The other two types of row operations are similar but easier. Column operations follow analogously.
\end{proof}

\begin{eg}
  Let
  \[
    A =
    \begin{pmatrix}
      2 & -1 \\
      1 & 2
    \end{pmatrix}
    \in \matrixring_{2, 2}(\Z).
  \]
  Algorithmically, we can carry out the following sequence of operations to obtain Smith Normal Form:
  \[
    \begin{pmatrix}
      2 & -1 \\
      1 & 2
    \end{pmatrix}
    \stackrel{\text{ER } 2}{\to}
    \begin{pmatrix}
      1 & 2 \\
      2 & -1
    \end{pmatrix}
    \stackrel{\text{ER } 1}{\to}
    \begin{pmatrix}
      1 & 2 \\
      0 & -5
    \end{pmatrix}
    \stackrel{\text{ER } 1}{\to}
    \begin{pmatrix}
      1 & 0 \\
      0 & -5
    \end{pmatrix}
    \stackrel{\text{ER } 3}{\to}
    \begin{pmatrix}
      1 & 0 \\
      0 & 6
    \end{pmatrix}
  \]

  Alternatively, using what we have just proved,
  \begin{align*}
    \fit_1(A) &= (2, -1, 2, 1) = (1) \\
    \fit_2(A) &= (\det A) = (5)
  \end{align*}
  so \(d_1 = 1, d_1d_2 = 5\) so \(d_2 = 5\).
\end{eg}

Recall that we have remarked that a submodule of a finitely genereated module may not be finitely generated. However the following lemma tells us that submodules of finitely generated free modules over some particular rings are so:

\begin{lemma}
  Let \(R\) be a PID. Any submodule of \(R^n\) is generated by at most \(n\) elements.
\end{lemma}

\begin{proof}
  Let \(N \leq R^n\) and consider the ideal
  \[
    I = \{r \in R: \exists r_2, \dots, r_n \text{ such that } (r, r_2, \dots, r_n) \in N\},
  \]
  which is the image of \(N \stackrel{\iota}{\to} R^n \stackrel{\pi_1}{\to} R\), a submodule of \(R\).

    As \(R\) is a PID, \(I = (a) \ideal R\) for some \(a \in R\). Thus there is some
    \[
      n_1 = (a, a_2, a_2, \dots, a_n) \in N.
    \]
    Suppose \((r_1, r_2, \dots, r_n) \in N\). Then there exists some \(x \in R\) such that \(r_1 = ax\). Then
    \[
      (r_1, \dots, r_n) - x \cdot n_1 = (0, r_2 - xa_2, \dots, r_n - xa_n) \in N \cap (0 \oplus R^{n-1}).
    \]

    By induction \(N \cap (0 \oplus R^{n - 1}) \cong N' \leq R^{n - 1}\) is generated by \(n_2, \dots, n_n\) so \(n_1, \dots, n_n\) generate \(N\).
\end{proof}

\begin{theorem}
  Let \(R\) be a Euclidean domain and \(N \leq R^n\). Then there is a basis \(v_1, \dots, v_n\) of \(R^n\) such that \(N\) is generated by \(d_1v_1, \dots, d_rv_r\) for some \(0 \leq r \leq n\) and some \(d_1 \divides \dots \divides d_r\).
\end{theorem}

\begin{proof}
  By the previous lemma there are \(x_1, \dots, x_m \in N\) which generate \(N\) and \(0 \leq m \leq n\). Each \(x_i\) is an element of \(R^n\) so we can form an \(n \times m\) matrix whose first \(m\) columns are \(x_i\), i.e.
  \[
    A =
    \begin{pmatrix}
      \uparrow & \uparrow & & \uparrow & \uparrow & & \uparrow \\
      x_1 & x_2 & \cdots & x_m & 0 & \cdots & 0 \\
      \downarrow & \downarrow & & \downarrow & \downarrow & & \downarrow \\
    \end{pmatrix}
    \in \matrixring_{n, m}(R)
  \]

  We can put \(A\) into Smith Normal Form with diagonal entries \(d_1 \divides \cdots \divides d_r\) by elementary operations. Each row operation is given by a change of basis of \(R^n\) and each column operation is given by rechoosing the generating set \(x_1, \dots, x_m\). Thus after a change of basis of \(R^n\) to \(v_1, \dots, v_n\), \(N\) is generated by \(d_1v_1, \dots, d_rv_r\).
\end{proof}

\begin{corollary}
  A submodule \(N \leq R^n\) is isomorphic to \(R^m\) for some \(m \leq n\).
\end{corollary}

\begin{proof}
  By the theorem above, we can find a basis \(v_1, \dots, v_n\) for \(R^n\) such that \(N\) is generated by \(d_1v_1, \dots, d_mv_m\). These are linearly independent as a dependence between them would give a dependence between \(v_1, \dots, v_n\).
\end{proof}

Now we are ready for the big theorem in this course:

\begin{theorem}[Classification Theorem for Finitely Generated Modules over Euclidean Domain]\index{Structural Theorem for modules}
  \label{thm:module over ED}
  Let \(R\) be a Euclidean domain and \(M\) a finitely generated \(R\)-modules. Then
  \[
    M \cong \frac{R}{(d_1)} \oplus \frac{R}{(d_2)} \oplus \dots \oplus \frac{R}{(d_r)} \oplus R \oplus \dots \oplus R
  \]
  for some \(d_i \neq 0\) with \(d_1 \divides d_2 \divides \cdots \divides d_r\).
\end{theorem}

\begin{proof}
  Let \(M\) be generateed by \(m_1, \dots, m_n \in M\), giving a surjection \(\varphi: R^n \surj M\) so \(M \cong R^n/\ker \varphi\). By the previous theorem there is a basis \(v_1, \dots, v_n\) of \(R^n\) such that \(\ker \varphi\) is generated by \(d_1v_1, \dots, d_rv_r\) with \(d_1 \divides \cdots \divides d_r\). Thus by changing the basis of \(R^n\) to \(v_i\)'s, \(\ker \varphi\) is generated by columns of
  \[
    \begin{pmatrix}
      d_1 \\
      & d_2 \\
      & & \ddots \\
      & & & d_r \\
      & & & & 0 \\
      & & & & & \ddots \\
      & & & & & & 0
    \end{pmatrix}
  \]
  so
  \[
    M \cong \frac{R^n}{\ker \varphi} \cong \left( \bigoplus_{i = 1}^r \frac{R}{(d_i)} \right) \oplus R \oplus \dots \oplus R
  \]
  as required.
\end{proof}

\begin{eg}
  Let \(R = \Z\), a Euclidean domain, and \(A\) be the abelian group (i.e.\ \(\Z\)-module) generated by \(a, b, c\), subject to
  \[
    \begin{cases}
      2a + 3b + c = 0 \\
      a + 2b = 0 \\
      5a + 6b + 7c = 0
    \end{cases}
  \]
  Thus \(A = \Z^3/N\) where \(N \leq \Z^3\) is generated by \((2, 3, 1)^T, (1, 2, 0)^T, (5, 6, 7)^T\). The matrix \(A\) whose columns are these vectors
  \[
    A =
    \begin{pmatrix}
      2 & 1 & 5 \\
      3 & 2 & 6 \\
      1 & 0 & 7
    \end{pmatrix}
  \]
  has Smith Normal Form with diagonal entries \(1, 1, 3\):

  \begin{proof}
    \begin{align*}
      \fit_1(A) &= (1) \\
      \fit_2(A) &\supseteq \left( \det
                  \begin{pmatrix}
                    2 & 1 \\
                    3 & 2
                  \end{pmatrix}
                        \right)
                        = (1) \\
      \fit_3(A) &= (\det A) = 3
    \end{align*}
    so \(d_1 = 1, d_1d_2 = 1, d_1d_2d_3 = 3\).
  \end{proof}

  After change of basis, \(N\) is generated by \((1, 0, 0)^T, (0, 1, 0)^T, (0, 0, 3)^T\) so
  \[
    A \cong \Z/1\Z \oplus \Z/1\Z \oplus \Z/3\Z \cong \Z/3\Z.
  \]
\end{eg}

We can derive, as a corollary actually, what we stated earlier without proof

\begin{theorem}[Structure Theorem for Finitely Generated Abelian Groups]
  Any finitely generated abelian group is isomorphis to
  \[
    C_{d_1} \times C_{d_2} \times \dots \times C_{d_r} \times C_\infty \times \dots \times C_\infty
  \]
  with \(d_1 \divides \cdots \divides d_r\).
\end{theorem}

\begin{proof}
  ``Trivial'' should suffice here but let us spell it out: apply \nameref{thm:module over ED} to \(\Z\), and note that
  \[
    \Z/(d) = C_d, \, \Z = C_\infty.
  \]
\end{proof}

The above classification theorem decompose into modules whose relation modules' principal ideals form a descending chain by divisibility. It turns out it is also possible to decompose by the coprime factors of the relation modules. Before that let us prove something we have known for a (very) long time, but at a high level:

\begin{lemma}[Chinese Remainder Theorem]
  Let \(R\) be a Euclidean domain and \(a, b \in R\) with \(\gcd(a, b) = 1\). Then
  \[
    R/(ab) \cong R(a) \oplus R/(b).
  \]
\end{lemma}

\begin{proof}
  Consider the \(R\)-module homomorphism
  \begin{align*}
    \varphi: R/(a) \oplus R/(b) &\to R/(ab) \\
    (r_1 + (a), r_2 + (b)) &\mapsto br_1 + ar_2 + (ab)
  \end{align*}
  As \(\gcd(a, b) = 1\), \((a, b) = (1)\) so \(1 = xa + yb\) for some \(x, y \in R\). Therefore for \(r \in R\), \(r = rxa + ryb\) so
  \[
    r + (ab) = rxa + ryb + (ab) = \varphi((ry + (a), rx + (b)))
  \]
  and so \(\varphi\) is surjective.

  If \(\varphi((r_1 + (a), r_2 + (b))) = 0\) then \(br_1 + ar_2 \in (ab)\). Thus \(a \divides br_1 + ar_2, a \divides br_1\). As \(\gcd(a, b) = 1\), \(a \divides r_1\) so \(r_1 + (a) = 0 + (a)\). Similarly \(r_2 + (b) = 0 + (b)\) so \(\varphi\) is injective.
\end{proof}

We thus have

\begin{theorem}[Primary Decomposition Theorem]\index{primary decomposition}
  \label{thm:primary decomposition}
  Let \(R\) be a Euclidean domain and \(M\) be a finitely generated \(R\)-module. Then
  \[
    M \cong \bigoplus_{i = 1}^n N_i
  \]
  with each \(N_i\) either equal to \(R\) or \(R/(p^m)\) for some prime \(p \in R\) and \(n \geq 1\).
\end{theorem}

\begin{proof}
  Note that if \(d = p_1^{m_1} \cdots p_k^{m_k}\) with \(p_i \in R\) distinct primes, by the previous lemma
  \[
    \frac{R}{(d)} \cong \frac{R}{(p_1^{n_1})} \oplus \dots \oplus \frac{R}{(p_k^{m_k})}.
  \]
  Plug this into \nameref{thm:module over ED} to get the required result.
\end{proof}

\subsection{\texorpdfstring{\(\F[X]\)}{ð½[X]}-modules and Normal Form}

For any field \(\F\), \(\F[X]\) is a Euclidean domain and so results of the last section apply. If \(V\) is an \(\F\)-vector space and \(\alpha: V \to V\) is an endomorphism, then we have
\begin{align*}
  \F[X] \times V &\to V \\
  (f, v) &\mapsto f(\alpha)(v)
\end{align*}
which makes \(V\) into an \(\F[X]\)-module, call it \(V_\alpha\). It turns out that \(\F[X]\)-module is the correct tool to study endomorphisms and many results in IB Linear Algebra, as well as many further results in algebra, can be obtained by looking into the \(\F[X]\)-module structure.

\begin{lemma}
  If \(V\) is finite-dimensional then \(V_\alpha\) is finitely generated as an \(\F[X]\)-module.
\end{lemma}

\begin{proof}
  \(V\) is a finitely generated \(\F\)-module and \(\F \leq \F[X]\) so \(V\) is also a finitely generated \(\F[X]\)-module.
\end{proof}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item Suppose \(V_\alpha \cong \F[X]/(X^r)\) as an \(\F[X]\)-module. This has \(\F\)-basis \(\{X^i\}_{i = 0}^{r - 1}\) and the action of \(\alpha\) corresponds to multiplication by \(X\). Thus in this basis \(\alpha\) has matrix representation
    \[
      \begin{pmatrix}
        0 \\
        1 & 0 \\
        & 1 & 0 \\
        & & & \ddots \\
        & & & 1 & 0
      \end{pmatrix}
    \]
  \item Suppose \(V_\alpha \cong \F[X]/((X - \lambda)^r)\). Consider \(\beta = \alpha - \lambda \cdot \id\). Then \(V_\beta \cong \F[Y]/(Y^r)\) as an \(\F[Y]\)-module. By the previous example \(V\) has a basis so that \(\beta\) is given by the matrix above and \(\alpha\) is given by
    \[
      \begin{pmatrix}
        \lambda \\
        1 & \lambda \\
        & 1 & \lambda \\
        & & & \ddots \\
        & & & 1 & \lambda
      \end{pmatrix}
    \]
  \item Suppose \(V_\alpha \cong \F[X]/(f)\) where
    \[
      f = X^r + a_{r - 1}X^{r - 1} + \dots + a_1X + a_0.
    \]
    Then \(\{X^i\}_{i = 0}^{r - 1}\) is an \(\F\)-basis and in this basis \(\alpha\) is given by
    \[
      \begin{pmatrix}
        0 & & & & & & -a_0 \\
        1 & 0 & & & & & -a_1 \\
        & 1 & 0 & & & & -a_2 \\
        & & 1 & 0 & & & -a_3 \\
        & & & & \ddots & & \vdots \\
        & & & & & 1 & -a_{r - 1}
      \end{pmatrix}
    \]
    This matrix is called the \emph{companion matrix} for \(f\), written \(C(f)\).
  \end{enumerate}
\end{eg}

\begin{theorem}[Rational Canonical Form]\index{Rational Canonical Form}
  Let \(V\) be a finite-dimensional \(\F\)-vector space and \(\alpha: V \to V\) be linear. Regard \(V\) as an \(\F[X]\)-module \(V_\alpha\), we have
  \[
    V_\alpha \cong \frac{\F[X]}{(d_1)} \oplus \dots \oplus \frac{\F[X]}{(d_r)}
  \]
  with \(d_1 \divides d_2 \divides \cdots \divides d_r\). There is a basis of \(V\) with respect to which \(\alpha\) is given by
  \[
    \begin{pmatrix}
      C(d_1) \\
      & C(d_2) \\
      & & \ddots \\
      & & & C(d_r)
    \end{pmatrix}
  \]
\end{theorem}

\begin{proof}
  Apply \nameref{thm:module over ED} to \(\F[X]\), a Euclidean domain. Note that no copies of \(\F[X]\) appear as it has infinite dimension over \(V\).
\end{proof}

Some observations:
\begin{enumerate}
\item If \(\alpha\) is represented by a matrix \(A\) in some basis, then \(A\) is conjugate to the above matrix.
\item The minimal polynomial of \(\alpha\) is \(d_r \in \F[X]\).
\item The characteristic polynomial of \(\alpha\) is \(d_1d_2\cdots d_r\).
\end{enumerate}

Recall that we have two classification theorems for modules over Euclidean domain. The above theorem corresponds to invariant decomposition. One might naturally ask what result follows from primary decomposition. Before that let's convince ourselves that primes in \(\C[X]\) are as simple as they can be:

\begin{lemma}
  The primes in \(\C[X]\) are \(X - \lambda\) for \(\lambda \in \C\) up to associates.
\end{lemma}

\begin{proof}
  If \(f \in \C[X]\) is irreducible then Fundamental Theorem of Algebra says that \(f\) has a root \(\lambda\), i.e.\ \(f\) is a constant. Thus it is \(0\) or a unit, absurd. Thus \((X - \lambda) \divides f\), write \(f = (X - \lambda) g\). But \(f\) is irreducible so \(g\) is a unit. Thus \(f\) is an associate of \(X - \lambda\).
\end{proof}

\begin{remark}
  The lemma is equivalent to the statement that \(\C\) is algebraically closed, which says that every polynomial with coefficients in \(\C\) factorises into linear factors in \(\C\). In fact, every field can be extended to an algebraically closed one. This will be discussed in detail in IID Galois Theory.
\end{remark}

\begin{theorem}[Jordan Normal Form]\index{Jordan normal form}
  Let \(V\) be a finite-dimensional \(\C\)-vector space and \(\alpha:V \to V\) linear. Consider \(V_\alpha\) as an \(\C[X]\)-module, then
  \[
    V_\alpha \cong \frac{\C[X]}{((X - \lambda_1)^{a_1})} \oplus \frac{\C[X]}{((X - \lambda_2)^{a_2})} \oplus \dots \oplus \frac{\C[X]}{((X - \lambda_r)^{a_r})}
    \]
    where the \(\lambda_i\)'s are not necessarily distinct. There is a basis of \(V\) with respect to which \(\alpha\) is given by
    \[
      \begin{pmatrix}
        J_{a_1}(\lambda_1) \\
        & J_{a_2}(\lambda_2) \\
        & & \ddots \\
        & & & J_{a_r}(\lambda_r)
      \end{pmatrix}
    \]
    where
    \[
      J_m(\lambda) =
      \begin{pmatrix}
        \lambda \\
        1 & \lambda \\
        & 1 & \lambda \\
        & & & \ddots \\
        & & & 1 & \lambda
      \end{pmatrix}
    \]
    has size \(m\).
\end{theorem}

\begin{proof}
  Immediate from \nameref{thm:primary decomposition} and knowing all the primes in \(\C[X]\).
\end{proof}

\begin{remark}\leavevmode
  \begin{enumerate}
  \item The \(J_m(\lambda)\) are called \emph{Jordan \(\lambda\)-blocks}.
  \item The minimal polynomial of \(\alpha\) is
    \[
      m_\alpha(t) = \prod_\lambda (X - \lambda)^{a_\lambda}
    \]
    where \(a_\lambda\) is the largest \(\lambda\)-block.
  \item The characteristic polynomial of \(\alpha\) is
    \[
      \chi_\alpha(t) = \prod_\lambda (X - \lambda)^{b_\lambda}
    \]
    where \(b_\lambda\) is the sum of the sizes of the \(\lambda\)-blocks.
  \item Consider \(\ker (X \cdot -: V_\alpha \to V_\alpha)\). What is its dimension?

    On \(\C[X]/(X - \lambda)^a\), if \(\lambda \neq 0\) then the map \(X \cdot -\) is an isomorphism since
    \[
      \ker (X \cdot -) = \{f + ((X - \lambda)^a): Xf \in ((X - \lambda)^a)\}
    \]
    so if \(Xf = (X - \lambda)^a \cdot g\), as \(X\) and \(X - \lambda\) are coprime, \(X \divides g\), \((X - \lambda)^a \divides f\) so \(\ker (X \cdot -) = 0\).

    If \(\lambda = 0\), \(X \cdot -: \C[X]/(X^a) \to \C[X]/(X^a)\) has matrix
    \[
      \begin{pmatrix}
        0 \\
        1 & 0 \\
        & 1 & 0 \\
        & & & \ddots \\
        & & & 1 & 0
      \end{pmatrix}
    \]
    so \(1\)-dimensional kernel. Thus
    \[
      \dim \ker (X \cdot -: V_\alpha \to V_\alpha) = \# \text{Jordan \(0\)-blocks}.
    \]
  \item Similarly, \(X^2 \cdot -: \C[X]/((X - \lambda)^a) \to \C[X]/((X - \lambda)^a)\) is an isomorphism for \(\lambda \neq 0\) and for \(\lambda = 0\) is given by the matrix
    \[
      \begin{pmatrix}
        0 \\
        0 & 0 \\
        1 & 0 & 0 \\
        & 1 & 0 & \\
        & & & \ddots \\
        & & & & 0
      \end{pmatrix}
    \]
    which has \(2\)-dimensional kernel if \(a > 1\) and \(1\)-dimensional kernel if \(a = 1\). Therefore
    \begin{align*}
      \dim \ker (X^2 \cdot -: V_\alpha \to V_\alpha) &= \# \text{Jordan \(0\)-blocks} \\
                                                     &+ \# \text{Jordan \(0\)-blocks of size \(> 1\)}.
    \end{align*}
    so
    \[
      \# \text{Jordan \(0\)-blocks of size \(1\)} = 2 \dim \ker (X \cdot -) - \dim \ker (X^2 \cdot -).
    \]
    Using the same method we can find Jordan \(0\)-blocks of other sizes.
    \iffalse
    \begin{align*}
      \dim (X^r \cdot -: V_\alpha \to V_\alpha) &= \# \text{Jordan \(0\)-blocks} \\
                                                &+ \sum_{i = 1}^{r - 1} \# \text{Jordan \(0\)-blocks of size \(> i\)} \\
      \sum_{i = 1}^{r - 1} \# \text{blocks of size \(\leq i\)} &= r \cdot \dim \ker (X \cdot -) - \dim \ker (X^r \cdot -) \\
      \# \text{blocks of size \(\leq r - 1\)} &= r \cdot \dim \ker (X \cdot -) - \dim \ker (X^r \cdot -) \\
                                                &- (r - 1) \cdot \dim \ker (X \cdot -) + \dim \ker (X^{r - 1} \cdot -) \\
                                                &= \dim \ker (X \cdot -) - \dim \ker (X^r \cdot -) + \dim \ker (X^{r - 1} \cdot -) \\
      \# \text{blocks of size \(r\)} &= 2 \cdot \dim \ker (X^r \cdot -) - \dim \ker (X^{r + 1} \cdot -) - \dim \ker(X^{r - 1} \cdot -)
    \end{align*}
    \fi
  \end{enumerate}
\end{remark}

\subsection{Conjugacy}

This section is non-examinable.

\begin{lemma}
  If \(\alpha: V \to V\) and \(\beta: W \to W\) are endomorphism of \(\F\)-vector spaces, then \(V_\alpha \cong W_\beta\) as \(\F[X]\)-modules if and only if there is an isomorphism \(\gamma: V \to W\) such that
  \[
    \gamma^{-1} \beta \gamma = \alpha,
  \]
  i.e.\ \(\alpha\) and \(\beta\) are conjugates.
\end{lemma}

\begin{proof}
  Let \(\hat \gamma: V_\alpha \to W_\beta\) be an \(\F[X]\)-module isomorphism. In particular \(\hat \gamma\) gives an \(\F\)-vector space isomorphism \(\gamma: V \to W\). Then
  \begin{align*}
    \beta \compose \gamma: W_\beta &\to W_\beta \\
    v &\mapsto X \cdot \gamma(v)
  \end{align*}

  Now
  \begin{align*}
    X \cdot \gamma(v) &= X \cdot \hat \gamma(v) \text{ \(\hat \gamma\) as an \(\F[X]\)-module map} \\
                      &= \hat \gamma(X \cdot v) \text{ in \(\F[X]\)-module \(V_\alpha\)} \\
                      &= \hat \gamma(\alpha(v)) \\
                      &= \gamma(\alpha(v))
  \end{align*}
  so \(\beta \compose \gamma = \gamma \compose \alpha\), \(\gamma^{-1} \compose \beta \compose \gamma = \alpha\). Therefore if \(W = V\) then \(V_\alpha \cong V_\beta\) if and only if \(\alpha\) and \(\beta\) are conjugates.
  \[
    \begin{tikzcd}
      V \ar[r, "\alpha"] \ar[d, dashed, "\gamma"'] & V \ar[d, dashed, "\gamma"] & V_\alpha \ar[r, dashed, "\alpha = X \cdot -"] \ar[d, "\hat \gamma"'] & V_\alpha \ar[d, "\hat \gamma"] \\
      W \ar[r, "\beta"] & W & W_\beta \ar[r, dashed, "\beta = X \cdot -"] & W_\beta
    \end{tikzcd}
  \]
\end{proof}

Applying \nameref{thm:module over ED}, we get

\begin{corollary}
  There is a bijection
  \[
    \{\text{conjugacy class of } \matrixring_n(\F)\} \leftrightarrow
    \left\{
    \begin{array}[h]{c}
      \text{sequence of monic polynomials } d_1, \dots, d_r \\
      \text{ where } d_1 \divides \cdots \divides d_r \text{ and } \deg (d_1 \cdots d_r) = n
    \end{array}
  \right\}
  \]
\end{corollary}

\begin{eg}
  Consider \(\GL_2(\F)\). The conjugacy classes are described by \(d_1 \divides \cdots \divides d_r\) where \(\deg (d_1 \cdots d_r) = 2\). Therefore we have one of the followings:
  \begin{enumerate}
  \item \(\deg d_1 = 2\),
  \item \(\deg d_1 = \deg d_2 = 1\). As \(d_1 \divides d_2\), \(d_1 = d_2\).
  \end{enumerate}
  These give us respecively
  \begin{enumerate}
  \item \(\F[X]/(X^2 + a_1X + a_0)\),
  \item \(\F[X]/(X - \lambda) \oplus \F[X]/(X - \lambda)\).
  \end{enumerate}

  Therefore any \(A \in \GL_2(\F)\) is conjugate to one of
  \[
    \begin{pmatrix}
      0 & -a_0 \\
      1 & -a_1
    \end{pmatrix}
    ,\quad
    \begin{pmatrix}
      \lambda & 0 \\
      0 & \lambda
    \end{pmatrix}
  \]
  They are not conjugates.

  The first case be futher split into two cases. If \(X^2 + a_1X + a_0\) is reducible they it factorises as either \((X - \lambda)^2\) or \((X - \lambda)(X - \mu)\) where \(\lambda \neq \mu\). Thus we get one of
  \[
    \begin{pmatrix}
      \lambda & 0 \\
      1 & \lambda
    \end{pmatrix}
    ,\quad
    \begin{pmatrix}
      \lambda & 0 \\
      0 & \mu
    \end{pmatrix}
  \]
\end{eg}

\begin{eg}
  Let \(\F = \Z/3\Z\). For what \(a_1, a_0\) is \(X^2 + a_1X + a_0 \in \F[X]\) irreducible? There are \(3 \times 3 = 9\) polynomials in total, of which \(\binom{3}{1} + \binom{3}{2} = 6\) are reducible. Guess (any verify!) that the irreducibles are \(X^2 + 1, X^2 + 2X + 2, X^2 + 2X + 2\). Therefore the conjugacy classes in \(\GL_2(\Z/3\Z)\) are
  \[
    \begin{array}[h]{ccc}
      \begin{psmallmatrix}
        0 & -1 \\
        1 & 0
      \end{psmallmatrix}
          &
            \begin{psmallmatrix}
              0 & -2 \\
              1 & -1
            \end{psmallmatrix}
          &
            \begin{psmallmatrix}
              0 & -2 \\
              1 & -2
            \end{psmallmatrix}
      \\ \hline
      \begin{psmallmatrix}
        \lambda & 0 \\
        1 & \lambda
      \end{psmallmatrix}
          &
            \lambda \neq 0
      \\ \hline
      \begin{psmallmatrix}
        \lambda & 0 \\
        0 & \mu
      \end{psmallmatrix}
          &
            \lambda, \mu \neq 0
    \end{array}
  \]
  so there are in total \(8\) conjugacy classes. They have order
  \[
    \begin{array}[h]{c|c|c|c|c|c}
      \begin{psmallmatrix}
        0 & 2 \\
        1 & 0
      \end{psmallmatrix}
          &
            \begin{psmallmatrix}
              0 & 1 \\
              1 & 2
            \end{psmallmatrix}
          &
            \begin{psmallmatrix}
              0 & 1 \\
              1 & 1
            \end{psmallmatrix}
          &
            \begin{psmallmatrix}
              1 & 0 \\
              1 & 1
            \end{psmallmatrix}
          &
            \begin{psmallmatrix}
              2 & 0 \\
              1 & 2
            \end{psmallmatrix}
          &
            \begin{psmallmatrix}
              \lambda & 0 \\
              0 & \mu
            \end{psmallmatrix}
      \\ \hline
      4 & 8 & 8 & 3 & 6 & 2
    \end{array}
  \]
\end{eg}

Just for fun, let's use what we deduced above and knowledge about Sylow \(p\)-subgroups way back in the beginning of the course to determine the group structure of \(\GL_2(\Z/3/Z)\).

Recall that
\[
  |GL_2(\Z/3\Z)| = (3^2 - 1)(3^2 - 3) = 2^4 \cdot 3
\]
so the Sylow \(2\)-subgroup has order \(2^4 = 16\). There are no elements of order \(16\) so it cannot be cyclic. Let
\[
  A =
  \begin{pmatrix}
    0 & 2 \\
    1 & 0
  \end{pmatrix}
  ,\quad
  B =
  \begin{pmatrix}
    0 & 1 \\
    1 & 2
  \end{pmatrix}
\]
so
\[
  A^{-1}BA =
  \begin{pmatrix}
    2 & 2 \\
    2 & 0
  \end{pmatrix}
  = B^3.
\]
Therefore \(\generation{B} \normal \generation{A, B} \leq \GL_2(\Z/3\Z)\). The 2nd Isomorphism Theorem says that
\[
  \generation{A, B}/\generation{B} \cong \generation{A}/(\generation{A} \cap \generation{B}).
\]
Now \(\generation A \cap \generation B = \generation*{\begin{psmallmatrix} 2 & 0 \\ 0 & 2 \end{psmallmatrix}}\), a group of order \(2\). Therefore
\[
  |\generation{A, B}| = \frac{|\generation A| \cdot |\generation B|}{|\generation A \cap \generation B|} = \frac{8 \cdot 4}{2} = 16
\]
which is a Sylow \(2\)-subgroup of \(\GL_2(\Z/3\Z)\). It has presentation
\[
  \generation{A, B| A^4 = B^8 = 1, A^{-1}BA = B^3},
\]
the semidihedral group of order \(16\).

Since we still have time left, we can do one more fun example.

\begin{eg}
  Let \(R = \Z[X]/(X^2 + 5) \cong \Z[\sqrt{-5}] \leq \C\). Then
  \[
    (1 + X)(1 - X) = 1 - X^2 = 1 + 5 = 6 = 2 \cdot 3.
  \]
  As \(1 \pm X, 2\) and \(3\) are irreducibles \(R\) is \emph{not} a UFD. Let
  \[
    I_1 = (3, 1 + X), I_2 = (3, 1 - x)
  \]
  be submodules of \(R\). Consider
  \begin{align*}
    \varphi: I_1 \oplus I_2 &\to R \\
    (a, b) &\to a + b
  \end{align*}
  Then \(\im \varphi = (3, 1 + X, 1 - X)\). Since \(3 - (1 + X) - (1 - X) = 1\), \(\im \varphi = R\). Also
  \[
    \ker \varphi = \{(a, b) \in I_1 \oplus I_2 : a + b = 0\} \cong I_1 \cap I_2
  \]
  where the last isomorphism can be deduced from the map \((x, -x) \mapsfrom x\). Note that \((3) \subseteq I_1 \cap I_2\). Let
  \[
    s \cdot 3 + t \cdot (1 + X) \in (3, 1 - X) \subseteq R = \Z[X]/(X^2 - 5).
  \]
  Reduce mod \(3\), we get
  \[
    t \cdot (1 + X) = (1 - X)p \mod (3, X^2 + 5) = (3, X^2 - 1) = (2, (X + 1)(X - 1))
  \]
  so \(1 - X \divides t\), \((1 + X)(1 - X) \divides t(1 + X)\) so
  \[
    t(1 + X) = q(X^2 - 1) = q(X^2 + 5 -6) = 3(-2q).
  \]
  Then \(s \cdot 3 + t \cdot (1 + X)\) is divisible by \(3\) so \(I_1 \cap I_2 \subseteq (3)\). Equality follows.

  From example sheet 4 we know that if \(N \leq M\) and \(M/N \cong \R^n\) then \(M \cong N \oplus R^n\). Here
  \[
    I_1 \oplus I_2/\ker \varphi \cong \im \varphi = R
  \]
  so
  \[
    I_1 \oplus I_2 \cong R \oplus \ker \varphi = R \oplus (3).
  \]
  Consider
  \begin{align*}
    \psi: R &\to (3) \\
    x &\mapsto 3x
  \end{align*}
  a surjective \(R\)-module map. \(\ker \varphi = 0\) as \(R\) is an integral domain so \(\varphi\) is an isomorphism. Thus
  \[
    I_1 \oplus I_2 \cong R \oplus R = R^2.
  \]
  In particular this shows that sums of non-free modules can be free.

  Next we claim that \(I_1\) is not principal. If \(I_1 = (a + bX)\) then \(I_2 = (a + bX)\). This is because \(I_1 = (3, 1 + X)\) and \(I_2 = (3, 1 - X)\) and \(R\) has automorphism \(X \mapsto -X\) which interchanging \(I_1\) and \(I_2\).\footnote{This technique will play a central role in IID Galois Theory.} But then
  \[
    (3) = I_1 \cap I_2 = ((a + bX)(a - bX)) = (a^2 - b^2X^2) = (a^2 + 5b^2)
  \]
  so \(a^2 + 5b^2 \divides 3\), absurd.

  In summary, we have shown that
  \begin{enumerate}
  \item \(I_1\) needs \(2\) elements to generate (as it is not principal), but it is not the free module \(R^2\).
  \item \(I_1\) is a direct summand of \(R^2\).
  \end{enumerate}
\end{eg}

\printindex
\end{document}
